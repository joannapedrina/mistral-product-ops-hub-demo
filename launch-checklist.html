<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Launch Checklist - Mistral AI</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, sans-serif;
            background: #f9fafb;
            color: #111827;
            line-height: 1.6;
        }

        /* Sticky Progress Bar */
        .sticky-progress {
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            background: white;
            border-bottom: 1px solid #e5e7eb;
            padding: 0.75rem 2rem;
            z-index: 1000;
            display: none;
            box-shadow: 0 2px 8px rgba(0,0,0,0.1);
        }

        .sticky-progress.visible {
            display: block;
        }

        .sticky-progress-inner {
            max-width: 1200px;
            margin: 0 auto;
            display: flex;
            align-items: center;
            gap: 1.5rem;
        }

        .sticky-progress-info {
            display: flex;
            align-items: center;
            gap: 1rem;
            min-width: 200px;
        }

        .sticky-progress-title {
            font-weight: 600;
            font-size: 0.875rem;
            white-space: nowrap;
            overflow: hidden;
            text-overflow: ellipsis;
            max-width: 200px;
        }

        .sticky-progress-bar-container {
            flex: 1;
            display: flex;
            align-items: center;
            gap: 1rem;
        }

        .sticky-progress-bar {
            flex: 1;
            height: 8px;
            background: #e5e7eb;
            border-radius: 4px;
            overflow: hidden;
        }

        .sticky-progress-fill {
            height: 100%;
            background: linear-gradient(90deg, #f2613f 0%, #22c55e 100%);
            border-radius: 4px;
            transition: width 0.3s;
        }

        .sticky-progress-percent {
            font-weight: 700;
            font-size: 1rem;
            min-width: 45px;
            text-align: right;
        }

        .sticky-progress-stats {
            display: flex;
            gap: 0.75rem;
            font-size: 0.75rem;
        }

        .sticky-stat {
            display: flex;
            align-items: center;
            gap: 0.25rem;
        }

        .sticky-stat-dot {
            width: 6px;
            height: 6px;
            border-radius: 50%;
        }

        .sticky-stat-dot.critical { background: #dc2626; }
        .sticky-stat-dot.required { background: #d97706; }

        .sticky-progress-links {
            display: flex;
            gap: 0.5rem;
        }

        .sticky-link {
            padding: 0.375rem 0.75rem;
            background: #f3f4f6;
            border: none;
            border-radius: 6px;
            font-size: 0.75rem;
            cursor: pointer;
            display: flex;
            align-items: center;
            gap: 0.25rem;
            text-decoration: none;
            color: #374151;
            transition: all 0.2s;
        }

        .sticky-link:hover {
            background: #e5e7eb;
        }

        .sticky-link.primary {
            background: #f2613f;
            color: white;
        }

        .sticky-link.primary:hover {
            background: #d84315;
        }

        .header {
            background: linear-gradient(135deg, #f2613f 0%, #d84315 100%);
            color: white;
            padding: 2rem 2rem 3rem;
            box-shadow: 0 4px 6px rgba(0,0,0,0.1);
        }

        .header h1 {
            font-size: 2rem;
            font-weight: 700;
            margin-bottom: 0.5rem;
        }

        .header p {
            opacity: 0.95;
            font-size: 1rem;
        }

        .container {
            max-width: 1200px;
            margin: -2rem auto 2rem;
            padding: 0 2rem;
        }

        .card {
            background: white;
            border-radius: 12px;
            padding: 2rem;
            margin-bottom: 1.5rem;
            box-shadow: 0 2px 4px rgba(0,0,0,0.1);
        }

        .card-title {
            font-size: 1.25rem;
            font-weight: 600;
            margin-bottom: 1rem;
            color: #111827;
        }

        /* Launch Type Selection */
        .launch-types {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 1rem;
            margin-bottom: 1.5rem;
        }

        .launch-type {
            border: 2px solid #e5e7eb;
            border-radius: 12px;
            padding: 1.5rem;
            cursor: pointer;
            transition: all 0.2s;
            text-align: center;
        }

        .launch-type:hover {
            border-color: #f2613f;
            background: #fef2f2;
        }

        .launch-type.selected {
            border-color: #f2613f;
            background: linear-gradient(135deg, #fef2f2 0%, #fee2e2 100%);
        }

        .launch-type-icon {
            font-size: 2.5rem;
            margin-bottom: 0.75rem;
        }

        .launch-type-name {
            font-weight: 600;
            font-size: 1rem;
            margin-bottom: 0.25rem;
        }

        .launch-type-desc {
            font-size: 0.875rem;
            color: #6b7280;
        }

        /* Form Inputs */
        .form-group {
            margin-bottom: 1.5rem;
        }

        .form-label {
            display: block;
            font-weight: 600;
            margin-bottom: 0.5rem;
            color: #374151;
        }

        .form-input, .form-textarea, .form-select {
            width: 100%;
            padding: 0.75rem 1rem;
            border: 1px solid #d1d5db;
            border-radius: 8px;
            font-size: 1rem;
            transition: border-color 0.2s;
        }

        .form-input:focus, .form-textarea:focus, .form-select:focus {
            outline: none;
            border-color: #f2613f;
            box-shadow: 0 0 0 3px rgba(242, 97, 63, 0.1);
        }

        .form-textarea {
            min-height: 100px;
            resize: vertical;
        }

        /* Team Tags */
        .team-tags {
            display: flex;
            flex-wrap: wrap;
            gap: 0.5rem;
            margin-bottom: 1rem;
        }

        .team-tag {
            display: flex;
            align-items: center;
            gap: 0.5rem;
            padding: 0.5rem 1rem;
            border: 1px solid #e5e7eb;
            border-radius: 20px;
            cursor: pointer;
            transition: all 0.2s;
            font-size: 0.875rem;
        }

        .team-tag:hover {
            border-color: #f2613f;
            background: #fef2f2;
        }

        .team-tag.selected {
            background: #f2613f;
            color: white;
            border-color: #f2613f;
        }

        .team-tag-avatar {
            width: 24px;
            height: 24px;
            border-radius: 50%;
            background: #e5e7eb;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 0.75rem;
        }

        .team-tag.selected .team-tag-avatar {
            background: rgba(255,255,255,0.3);
        }

        /* People Selection */
        .people-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(180px, 1fr));
            gap: 0.75rem;
        }

        .person-card {
            display: flex;
            align-items: center;
            gap: 0.75rem;
            padding: 0.75rem;
            border: 1px solid #e5e7eb;
            border-radius: 8px;
            cursor: pointer;
            transition: all 0.2s;
        }

        .person-card:hover {
            border-color: #f2613f;
            background: #fef2f2;
        }

        .person-card.selected {
            border-color: #f2613f;
            background: #fef2f2;
        }

        .person-card.selected::after {
            content: "‚úì";
            color: #f2613f;
            font-weight: bold;
            margin-left: auto;
        }

        .person-avatar {
            width: 36px;
            height: 36px;
            border-radius: 50%;
            background: linear-gradient(135deg, #f2613f 0%, #d84315 100%);
            color: white;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: 600;
            font-size: 0.875rem;
        }

        .person-info {
            flex: 1;
            min-width: 0;
        }

        .person-name {
            font-weight: 500;
            font-size: 0.875rem;
            white-space: nowrap;
            overflow: hidden;
            text-overflow: ellipsis;
        }

        .person-role {
            font-size: 0.75rem;
            color: #6b7280;
        }

        /* Checklist */
        .checklist-section {
            margin-bottom: 2rem;
        }

        .checklist-header {
            display: flex;
            align-items: center;
            gap: 0.75rem;
            padding: 1rem;
            background: #f9fafb;
            border-radius: 8px 8px 0 0;
            border: 1px solid #e5e7eb;
            border-bottom: none;
        }

        .checklist-header-icon {
            font-size: 1.25rem;
        }

        .checklist-header-title {
            font-weight: 600;
            flex: 1;
        }

        .checklist-header-badge {
            background: #e5e7eb;
            color: #374151;
            padding: 0.25rem 0.75rem;
            border-radius: 12px;
            font-size: 0.75rem;
            font-weight: 600;
        }

        .checklist-header-badge.complete {
            background: #dcfce7;
            color: #166534;
        }

        .checklist-items {
            border: 1px solid #e5e7eb;
            border-radius: 0 0 8px 8px;
        }

        .checklist-item {
            display: flex;
            align-items: flex-start;
            gap: 1rem;
            padding: 1rem 1.25rem;
            border-bottom: 1px solid #e5e7eb;
            transition: background 0.2s;
        }

        .checklist-item:last-child {
            border-bottom: none;
        }

        .checklist-item:hover {
            background: #f9fafb;
        }

        .checklist-checkbox {
            width: 20px;
            height: 20px;
            border: 2px solid #d1d5db;
            border-radius: 4px;
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
            flex-shrink: 0;
            margin-top: 2px;
            transition: all 0.2s;
        }

        .checklist-checkbox.checked {
            background: #22c55e;
            border-color: #22c55e;
            color: white;
        }

        .checklist-checkbox.checked::after {
            content: "‚úì";
            font-size: 0.75rem;
            font-weight: bold;
        }

        .checklist-content {
            flex: 1;
        }

        .checklist-title {
            font-weight: 500;
            margin-bottom: 0.25rem;
        }

        .checklist-item.checked .checklist-title {
            text-decoration: line-through;
            color: #9ca3af;
        }

        .checklist-meta {
            display: flex;
            flex-wrap: wrap;
            gap: 0.75rem;
            font-size: 0.875rem;
            color: #6b7280;
        }

        .checklist-owner {
            display: flex;
            align-items: center;
            gap: 0.25rem;
        }

        .checklist-due {
            display: flex;
            align-items: center;
            gap: 0.25rem;
        }

        .checklist-due.overdue {
            color: #dc2626;
        }

        /* Priority Badges */
        .priority-badge {
            display: inline-flex;
            align-items: center;
            gap: 0.25rem;
            padding: 0.125rem 0.5rem;
            border-radius: 4px;
            font-size: 0.6875rem;
            font-weight: 600;
            text-transform: uppercase;
            letter-spacing: 0.025em;
        }

        .priority-critical {
            background: #fef2f2;
            color: #dc2626;
            border: 1px solid #fecaca;
        }

        .priority-required {
            background: #fffbeb;
            color: #d97706;
            border: 1px solid #fde68a;
        }

        .priority-recommended {
            background: #eff6ff;
            color: #2563eb;
            border: 1px solid #bfdbfe;
        }

        .priority-optional {
            background: #f9fafb;
            color: #6b7280;
            border: 1px solid #e5e7eb;
        }

        /* Team badge */
        .team-badge {
            display: inline-flex;
            align-items: center;
            gap: 0.25rem;
            padding: 0.125rem 0.5rem;
            background: #f3f4f6;
            border-radius: 4px;
            font-size: 0.6875rem;
            color: #4b5563;
        }

        /* Playbook link in item */
        .item-playbook {
            display: inline-flex;
            align-items: center;
            gap: 0.25rem;
            padding: 0.125rem 0.5rem;
            background: #fefce8;
            border: 1px solid #fde047;
            border-radius: 4px;
            font-size: 0.6875rem;
            color: #854d0e;
            cursor: pointer;
            text-decoration: none;
        }

        .item-playbook:hover {
            background: #fef08a;
        }

        /* Skip button */
        .skip-btn {
            padding: 0.25rem 0.5rem;
            background: none;
            border: 1px solid #e5e7eb;
            border-radius: 4px;
            font-size: 0.6875rem;
            color: #6b7280;
            cursor: pointer;
            transition: all 0.2s;
        }

        .skip-btn:hover {
            background: #f3f4f6;
            border-color: #d1d5db;
        }

        /* Skipped state */
        .checklist-item.skipped {
            background: #f9fafb;
            opacity: 0.6;
        }

        .checklist-item.skipped .checklist-title {
            text-decoration: line-through;
            color: #9ca3af;
        }

        .checklist-item.skipped .checklist-checkbox {
            background: #f3f4f6;
            border-color: #d1d5db;
        }

        .checklist-item.skipped .checklist-checkbox::after {
            content: "‚Äî";
            color: #9ca3af;
            font-weight: bold;
        }

        .skipped-badge {
            display: inline-flex;
            align-items: center;
            gap: 0.25rem;
            padding: 0.125rem 0.5rem;
            background: #f3f4f6;
            border-radius: 4px;
            font-size: 0.6875rem;
            color: #6b7280;
            margin-left: 0.5rem;
        }

        /* Progress breakdown */
        .progress-breakdown {
            display: flex;
            gap: 1rem;
            margin-top: 0.75rem;
            flex-wrap: wrap;
        }

        .progress-item {
            display: flex;
            align-items: center;
            gap: 0.5rem;
            font-size: 0.75rem;
        }

        .progress-dot {
            width: 8px;
            height: 8px;
            border-radius: 50%;
        }

        .progress-dot.critical { background: #dc2626; }
        .progress-dot.required { background: #d97706; }
        .progress-dot.recommended { background: #2563eb; }
        .progress-dot.optional { background: #9ca3af; }

        /* Notifications Panel */
        .notifications-panel {
            background: #eff6ff;
            border: 1px solid #93c5fd;
            border-radius: 8px;
            padding: 1.25rem;
            margin-bottom: 1.5rem;
        }

        .notifications-title {
            font-weight: 600;
            color: #1e40af;
            margin-bottom: 0.75rem;
            display: flex;
            align-items: center;
            gap: 0.5rem;
        }

        .notification-item {
            display: flex;
            align-items: center;
            gap: 0.75rem;
            padding: 0.5rem 0;
            font-size: 0.875rem;
            color: #1e40af;
        }

        .notification-channel {
            background: #dbeafe;
            padding: 0.125rem 0.5rem;
            border-radius: 4px;
            font-size: 0.75rem;
            font-weight: 500;
        }

        /* Progress Bar */
        .progress-container {
            margin-bottom: 2rem;
        }

        .progress-header {
            display: flex;
            justify-content: space-between;
            margin-bottom: 0.5rem;
        }

        .progress-label {
            font-weight: 600;
        }

        .progress-percent {
            color: #6b7280;
        }

        .progress-bar {
            height: 8px;
            background: #e5e7eb;
            border-radius: 4px;
            overflow: hidden;
        }

        .progress-fill {
            height: 100%;
            background: linear-gradient(90deg, #f2613f 0%, #22c55e 100%);
            border-radius: 4px;
            transition: width 0.3s;
        }

        /* Playbook */
        .playbook {
            background: #fefce8;
            border: 1px solid #fde047;
            border-radius: 8px;
            padding: 1.5rem;
            margin-bottom: 1.5rem;
        }

        .playbook-title {
            font-weight: 600;
            color: #854d0e;
            margin-bottom: 0.75rem;
            display: flex;
            align-items: center;
            gap: 0.5rem;
        }

        .playbook-content {
            font-size: 0.875rem;
            color: #713f12;
            line-height: 1.8;
        }

        .playbook-content ul {
            margin-left: 1.25rem;
            margin-top: 0.5rem;
        }

        .playbook-content li {
            margin-bottom: 0.25rem;
        }

        /* Buttons */
        .btn {
            padding: 0.75rem 1.5rem;
            border-radius: 8px;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.2s;
            border: none;
            font-size: 1rem;
        }

        .btn-primary {
            background: linear-gradient(135deg, #f2613f 0%, #d84315 100%);
            color: white;
        }

        .btn-primary:hover {
            transform: translateY(-1px);
            box-shadow: 0 4px 12px rgba(242, 97, 63, 0.3);
        }

        .btn-secondary {
            background: white;
            border: 1px solid #d1d5db;
            color: #374151;
        }

        .btn-secondary:hover {
            background: #f9fafb;
        }

        .btn-group {
            display: flex;
            gap: 1rem;
            margin-top: 1.5rem;
        }

        /* Hidden sections */
        .hidden {
            display: none !important;
        }

        /* Timeline */
        .timeline {
            margin-top: 1.5rem;
        }

        .timeline-item {
            display: flex;
            gap: 1rem;
            padding-bottom: 1.5rem;
            position: relative;
        }

        .timeline-item::before {
            content: "";
            position: absolute;
            left: 15px;
            top: 30px;
            bottom: 0;
            width: 2px;
            background: #e5e7eb;
        }

        .timeline-item:last-child::before {
            display: none;
        }

        .timeline-dot {
            width: 32px;
            height: 32px;
            border-radius: 50%;
            background: #f2613f;
            color: white;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 0.875rem;
            flex-shrink: 0;
            z-index: 1;
        }

        .timeline-content {
            flex: 1;
            padding-top: 4px;
        }

        .timeline-title {
            font-weight: 600;
            margin-bottom: 0.25rem;
        }

        .timeline-desc {
            font-size: 0.875rem;
            color: #6b7280;
        }

        /* Two-column layout */
        .two-col {
            display: grid;
            grid-template-columns: 2fr 1fr;
            gap: 1.5rem;
        }

        @media (max-width: 900px) {
            .two-col {
                grid-template-columns: 1fr;
            }
        }

        /* Status badges */
        .status-badge {
            display: inline-flex;
            align-items: center;
            gap: 0.25rem;
            padding: 0.25rem 0.75rem;
            border-radius: 12px;
            font-size: 0.75rem;
            font-weight: 600;
        }

        .status-draft {
            background: #f3f4f6;
            color: #6b7280;
        }

        .status-in-progress {
            background: #dbeafe;
            color: #1e40af;
        }

        .status-ready {
            background: #dcfce7;
            color: #166534;
        }

        .status-launched {
            background: #f2613f;
            color: white;
        }

        /* Saved Checklists Grid */
        .saved-checklists-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(300px, 1fr));
            gap: 1rem;
        }

        .saved-checklist-card {
            border: 1px solid #e5e7eb;
            border-radius: 12px;
            padding: 1rem;
            background: white;
            transition: all 0.2s;
            position: relative;
        }

        .saved-checklist-card:hover {
            border-color: #f2613f;
            box-shadow: 0 4px 12px rgba(0,0,0,0.1);
        }

        .saved-checklist-header {
            display: flex;
            align-items: flex-start;
            gap: 0.75rem;
            margin-bottom: 0.75rem;
        }

        .saved-checklist-icon {
            width: 40px;
            height: 40px;
            border-radius: 8px;
            background: linear-gradient(135deg, #f2613f 0%, #d84315 100%);
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 1.25rem;
            flex-shrink: 0;
        }

        .saved-checklist-info {
            flex: 1;
            min-width: 0;
        }

        .saved-checklist-name {
            font-weight: 600;
            font-size: 0.9375rem;
            color: #111827;
            white-space: nowrap;
            overflow: hidden;
            text-overflow: ellipsis;
        }

        .saved-checklist-meta {
            font-size: 0.75rem;
            color: #6b7280;
            display: flex;
            gap: 0.75rem;
            margin-top: 0.25rem;
        }

        .saved-checklist-progress {
            margin: 0.75rem 0;
        }

        .saved-checklist-progress-bar {
            height: 6px;
            background: #e5e7eb;
            border-radius: 3px;
            overflow: hidden;
        }

        .saved-checklist-progress-fill {
            height: 100%;
            background: linear-gradient(90deg, #f2613f 0%, #22c55e 100%);
            border-radius: 3px;
            transition: width 0.3s;
        }

        .saved-checklist-progress-text {
            display: flex;
            justify-content: space-between;
            font-size: 0.6875rem;
            color: #6b7280;
            margin-top: 0.25rem;
        }

        .saved-checklist-links {
            display: flex;
            gap: 0.5rem;
            margin-top: 0.75rem;
            flex-wrap: wrap;
        }

        .saved-checklist-link {
            display: inline-flex;
            align-items: center;
            gap: 0.25rem;
            padding: 0.375rem 0.625rem;
            background: #f3f4f6;
            border: none;
            border-radius: 6px;
            font-size: 0.6875rem;
            cursor: pointer;
            text-decoration: none;
            color: #374151;
            transition: all 0.2s;
        }

        .saved-checklist-link:hover {
            background: #e5e7eb;
        }

        .saved-checklist-link.primary {
            background: #f2613f;
            color: white;
        }

        .saved-checklist-link.primary:hover {
            background: #d84315;
        }

        .saved-checklist-actions {
            position: absolute;
            top: 0.5rem;
            right: 0.5rem;
            display: flex;
            gap: 0.25rem;
            opacity: 0;
            transition: opacity 0.2s;
        }

        .saved-checklist-card:hover .saved-checklist-actions {
            opacity: 1;
        }

        .saved-checklist-action {
            width: 28px;
            height: 28px;
            border: 1px solid #e5e7eb;
            border-radius: 6px;
            background: white;
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            font-size: 0.75rem;
            transition: all 0.2s;
        }

        .saved-checklist-action:hover {
            background: #f3f4f6;
        }

        .saved-checklist-action.delete:hover {
            background: #fef2f2;
            border-color: #fecaca;
            color: #dc2626;
        }
    </style>
</head>
<body>
    <!-- Sticky Progress Bar (shown when checklist is active) -->
    <div class="sticky-progress" id="stickyProgress">
        <div class="sticky-progress-inner">
            <div class="sticky-progress-info">
                <span class="status-badge status-in-progress" id="stickyStatusBadge">In Progress</span>
                <span class="sticky-progress-title" id="stickyTitle">Launch Name</span>
            </div>
            <div class="sticky-progress-bar-container">
                <div class="sticky-progress-bar">
                    <div class="sticky-progress-fill" id="stickyProgressFill" style="width: 0%"></div>
                </div>
                <span class="sticky-progress-percent" id="stickyProgressPercent">0%</span>
            </div>
            <div class="sticky-progress-stats">
                <div class="sticky-stat">
                    <span class="sticky-stat-dot critical"></span>
                    <span id="stickyCritical">0/0</span>
                </div>
                <div class="sticky-stat">
                    <span class="sticky-stat-dot required"></span>
                    <span id="stickyRequired">0/0</span>
                </div>
            </div>
            <div class="sticky-progress-links">
                <button onclick="backToOverview()" class="sticky-link" title="Back to Launch Type Selection">‚Üê Back</button>
                <a href="./interactive-launch-calendar.html" class="sticky-link" title="View in Launch Calendar">üìÖ Calendar</a>
                <a href="#" onclick="openLinear(); return false;" class="sticky-link" title="Open Linear Project">
                    <svg width="12" height="12" viewBox="0 0 100 100" fill="currentColor"><path d="M1.22541 61.5228c-.2225-.9485.90748-1.5459 1.59638-.857L39.3342 97.1782c.6889.6889.0915 1.8189-.857 1.5765a49.9392 49.9392 0 01-37.2513-37.2319zM100 50c0-27.614-22.386-50-50-50S0 22.386 0 50c0 15.5456 7.0862 29.432 18.2026 38.6227.2702.2233.6601.1786.8793-.1046l42.8393-55.408c.3258-.4211.9168-.4971 1.3325-.171l29.0494 22.8195c.4156.3262.9844.2524 1.2815-.1662l.1769-.2494C99.0658 48.3466 100 48.5 100 50z"/></svg>
                    Linear
                </a>
                <a href="./dashboard-mockup-v4-real-data.html" class="sticky-link" title="View Feedback">üí¨ Feedback</a>
                <button onclick="shareChecklist()" class="sticky-link">üîó Share</button>
                <button onclick="notifyRequesters()" class="sticky-link primary" id="stickyNotifyBtn">üì£ Notify (4)</button>
            </div>
        </div>
    </div>

    <div class="header" style="margin-top: 0;">
        <h1>Launch Checklist</h1>
        <p>Dynamic playbooks and team coordination for product launches</p>
    </div>

    <div class="container">
        <!-- All Checklists Table View -->
        <div class="card" id="allChecklistsPanel">
            <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 1rem;">
                <div class="card-title" style="margin-bottom: 0;">üìã All Launch Checklists</div>
                <div style="display: flex; gap: 0.5rem;">
                    <select id="checklistStatusFilter" onchange="filterChecklistTable()" style="padding: 0.5rem; border: 1px solid #e5e7eb; border-radius: 6px; font-size: 0.875rem;">
                        <option value="">All Status</option>
                        <option value="in-progress">In Progress</option>
                        <option value="completed">Completed</option>
                        <option value="planned">Planned</option>
                    </select>
                    <select id="checklistTypeFilter" onchange="filterChecklistTable()" style="padding: 0.5rem; border: 1px solid #e5e7eb; border-radius: 6px; font-size: 0.875rem;">
                        <option value="">All Types</option>
                        <option value="model-release">Model Release</option>
                        <option value="major-feature">Major Feature</option>
                        <option value="api-change">API Change</option>
                        <option value="pricing-change">Pricing Change</option>
                    </select>
                </div>
            </div>
            <div style="overflow-x: auto;">
                <table style="width: 100%; border-collapse: collapse; font-size: 0.875rem;">
                    <thead>
                        <tr style="background: #f9fafb; border-bottom: 2px solid #e5e7eb;">
                            <th style="text-align: left; padding: 0.75rem; font-weight: 600;">Launch Name</th>
                            <th style="text-align: left; padding: 0.75rem; font-weight: 600;">Type</th>
                            <th style="text-align: left; padding: 0.75rem; font-weight: 600;">Target Date</th>
                            <th style="text-align: left; padding: 0.75rem; font-weight: 600;">Progress</th>
                            <th style="text-align: left; padding: 0.75rem; font-weight: 600;">Owner</th>
                            <th style="text-align: left; padding: 0.75rem; font-weight: 600;">Status</th>
                            <th style="text-align: center; padding: 0.75rem; font-weight: 600;">Actions</th>
                        </tr>
                    </thead>
                    <tbody id="checklistTableBody">
                        <tr data-status="in-progress" data-type="model-release" style="border-bottom: 1px solid #e5e7eb; cursor: pointer;" onclick="loadChecklist('mistral-large-3')">
                            <td style="padding: 0.75rem;">
                                <div style="font-weight: 500;">Mistral Large 3</div>
                                <div style="font-size: 0.75rem; color: #6b7280;">Next-gen flagship model</div>
                            </td>
                            <td style="padding: 0.75rem;"><span style="background: #EEF2FF; color: #4338CA; padding: 0.25rem 0.5rem; border-radius: 4px; font-size: 0.75rem;">Model Release</span></td>
                            <td style="padding: 0.75rem;">Feb 15, 2026</td>
                            <td style="padding: 0.75rem;">
                                <div style="display: flex; align-items: center; gap: 0.5rem;">
                                    <div style="flex: 1; height: 6px; background: #e5e7eb; border-radius: 3px; overflow: hidden;">
                                        <div style="width: 68%; height: 100%; background: linear-gradient(90deg, #f2613f, #22c55e);"></div>
                                    </div>
                                    <span style="font-weight: 600; font-size: 0.75rem;">68%</span>
                                </div>
                            </td>
                            <td style="padding: 0.75rem;">Guillaume Lample</td>
                            <td style="padding: 0.75rem;"><span style="background: #FEF3C7; color: #92400E; padding: 0.25rem 0.5rem; border-radius: 4px; font-size: 0.75rem;">In Progress</span></td>
                            <td style="padding: 0.75rem; text-align: center;">
                                <button onclick="event.stopPropagation(); loadChecklist('mistral-large-3')" style="background: #f2613f; color: white; border: none; padding: 0.375rem 0.75rem; border-radius: 4px; font-size: 0.75rem; cursor: pointer;">Open</button>
                            </td>
                        </tr>
                        <tr data-status="in-progress" data-type="major-feature" style="border-bottom: 1px solid #e5e7eb; cursor: pointer;" onclick="loadChecklist('enterprise-sso')">
                            <td style="padding: 0.75rem;">
                                <div style="font-weight: 500;">Enterprise SSO</div>
                                <div style="font-size: 0.75rem; color: #6b7280;">SAML & OIDC authentication</div>
                            </td>
                            <td style="padding: 0.75rem;"><span style="background: #ECFDF5; color: #065F46; padding: 0.25rem 0.5rem; border-radius: 4px; font-size: 0.75rem;">Major Feature</span></td>
                            <td style="padding: 0.75rem;">Apr 1, 2026</td>
                            <td style="padding: 0.75rem;">
                                <div style="display: flex; align-items: center; gap: 0.5rem;">
                                    <div style="flex: 1; height: 6px; background: #e5e7eb; border-radius: 3px; overflow: hidden;">
                                        <div style="width: 42%; height: 100%; background: linear-gradient(90deg, #f2613f, #22c55e);"></div>
                                    </div>
                                    <span style="font-weight: 600; font-size: 0.75rem;">42%</span>
                                </div>
                            </td>
                            <td style="padding: 0.75rem;">David Kim</td>
                            <td style="padding: 0.75rem;"><span style="background: #FEF3C7; color: #92400E; padding: 0.25rem 0.5rem; border-radius: 4px; font-size: 0.75rem;">In Progress</span></td>
                            <td style="padding: 0.75rem; text-align: center;">
                                <button onclick="event.stopPropagation(); loadChecklist('enterprise-sso')" style="background: #f2613f; color: white; border: none; padding: 0.375rem 0.75rem; border-radius: 4px; font-size: 0.75rem; cursor: pointer;">Open</button>
                            </td>
                        </tr>
                        <tr data-status="planned" data-type="api-change" style="border-bottom: 1px solid #e5e7eb; cursor: pointer;" onclick="loadChecklist('api-v2')">
                            <td style="padding: 0.75rem;">
                                <div style="font-weight: 500;">API v2.0</div>
                                <div style="font-size: 0.75rem; color: #6b7280;">New streaming & function calling</div>
                            </td>
                            <td style="padding: 0.75rem;"><span style="background: #FEF2F2; color: #991B1B; padding: 0.25rem 0.5rem; border-radius: 4px; font-size: 0.75rem;">API Change</span></td>
                            <td style="padding: 0.75rem;">Mar 15, 2026</td>
                            <td style="padding: 0.75rem;">
                                <div style="display: flex; align-items: center; gap: 0.5rem;">
                                    <div style="flex: 1; height: 6px; background: #e5e7eb; border-radius: 3px; overflow: hidden;">
                                        <div style="width: 15%; height: 100%; background: linear-gradient(90deg, #f2613f, #22c55e);"></div>
                                    </div>
                                    <span style="font-weight: 600; font-size: 0.75rem;">15%</span>
                                </div>
                            </td>
                            <td style="padding: 0.75rem;">Sophia Chen</td>
                            <td style="padding: 0.75rem;"><span style="background: #F3F4F6; color: #374151; padding: 0.25rem 0.5rem; border-radius: 4px; font-size: 0.75rem;">Planned</span></td>
                            <td style="padding: 0.75rem; text-align: center;">
                                <button onclick="event.stopPropagation(); loadChecklist('api-v2')" style="background: #6b7280; color: white; border: none; padding: 0.375rem 0.75rem; border-radius: 4px; font-size: 0.75rem; cursor: pointer;">Open</button>
                            </td>
                        </tr>
                        <tr data-status="completed" data-type="model-release" style="border-bottom: 1px solid #e5e7eb; cursor: pointer; opacity: 0.7;" onclick="loadChecklist('codestral-2501')">
                            <td style="padding: 0.75rem;">
                                <div style="font-weight: 500;">Codestral 25.01</div>
                                <div style="font-size: 0.75rem; color: #6b7280;">Code generation model update</div>
                            </td>
                            <td style="padding: 0.75rem;"><span style="background: #EEF2FF; color: #4338CA; padding: 0.25rem 0.5rem; border-radius: 4px; font-size: 0.75rem;">Model Release</span></td>
                            <td style="padding: 0.75rem;">Jan 8, 2026</td>
                            <td style="padding: 0.75rem;">
                                <div style="display: flex; align-items: center; gap: 0.5rem;">
                                    <div style="flex: 1; height: 6px; background: #e5e7eb; border-radius: 3px; overflow: hidden;">
                                        <div style="width: 100%; height: 100%; background: #22c55e;"></div>
                                    </div>
                                    <span style="font-weight: 600; font-size: 0.75rem; color: #22c55e;">100%</span>
                                </div>
                            </td>
                            <td style="padding: 0.75rem;">Guillaume Lample</td>
                            <td style="padding: 0.75rem;"><span style="background: #ECFDF5; color: #065F46; padding: 0.25rem 0.5rem; border-radius: 4px; font-size: 0.75rem;">Completed</span></td>
                            <td style="padding: 0.75rem; text-align: center;">
                                <button onclick="event.stopPropagation(); loadChecklist('codestral-2501')" style="background: #e5e7eb; color: #374151; border: none; padding: 0.375rem 0.75rem; border-radius: 4px; font-size: 0.75rem; cursor: pointer;">View</button>
                            </td>
                        </tr>
                        <tr data-status="completed" data-type="pricing-change" style="border-bottom: 1px solid #e5e7eb; cursor: pointer; opacity: 0.7;" onclick="loadChecklist('jan-2026-pricing')">
                            <td style="padding: 0.75rem;">
                                <div style="font-weight: 500;">January 2026 Pricing Update</div>
                                <div style="font-size: 0.75rem; color: #6b7280;">Mistral Small price reduction</div>
                            </td>
                            <td style="padding: 0.75rem;"><span style="background: #FDF4FF; color: #86198F; padding: 0.25rem 0.5rem; border-radius: 4px; font-size: 0.75rem;">Pricing Change</span></td>
                            <td style="padding: 0.75rem;">Jan 2, 2026</td>
                            <td style="padding: 0.75rem;">
                                <div style="display: flex; align-items: center; gap: 0.5rem;">
                                    <div style="flex: 1; height: 6px; background: #e5e7eb; border-radius: 3px; overflow: hidden;">
                                        <div style="width: 100%; height: 100%; background: #22c55e;"></div>
                                    </div>
                                    <span style="font-weight: 600; font-size: 0.75rem; color: #22c55e;">100%</span>
                                </div>
                            </td>
                            <td style="padding: 0.75rem;">Sophia Chen</td>
                            <td style="padding: 0.75rem;"><span style="background: #ECFDF5; color: #065F46; padding: 0.25rem 0.5rem; border-radius: 4px; font-size: 0.75rem;">Completed</span></td>
                            <td style="padding: 0.75rem; text-align: center;">
                                <button onclick="event.stopPropagation(); loadChecklist('jan-2026-pricing')" style="background: #e5e7eb; color: #374151; border: none; padding: 0.375rem 0.75rem; border-radius: 4px; font-size: 0.75rem; cursor: pointer;">View</button>
                            </td>
                        </tr>
                    </tbody>
                </table>
            </div>
            <div style="display: flex; justify-content: space-between; align-items: center; margin-top: 1rem; padding-top: 1rem; border-top: 1px solid #e5e7eb;">
                <span style="font-size: 0.75rem; color: #6b7280;">Showing 5 checklists</span>
                <button onclick="scrollToStep1()" class="btn btn-primary" style="padding: 0.5rem 1rem;">+ Create New Checklist</button>
            </div>
        </div>

        <!-- Step 1: Select Launch Type -->
        <div class="card" id="step1">
            <div class="card-title">Step 1: What are you launching?</div>
            <div class="launch-types">
                <div class="launch-type" onclick="selectLaunchType('major-feature')">
                    <div class="launch-type-icon">üöÄ</div>
                    <div class="launch-type-name">Major Feature</div>
                    <div class="launch-type-desc">New capability with marketing push</div>
                </div>
                <div class="launch-type" onclick="selectLaunchType('model-release')">
                    <div class="launch-type-icon">üß†</div>
                    <div class="launch-type-name">Model Release</div>
                    <div class="launch-type-desc">New AI model or major update</div>
                </div>
                <div class="launch-type" onclick="selectLaunchType('api-change')">
                    <div class="launch-type-icon">‚öôÔ∏è</div>
                    <div class="launch-type-name">API Change</div>
                    <div class="launch-type-desc">Breaking change or new endpoint</div>
                </div>
                <div class="launch-type" onclick="selectLaunchType('bug-fix')">
                    <div class="launch-type-icon">üêõ</div>
                    <div class="launch-type-name">Critical Bug Fix</div>
                    <div class="launch-type-desc">Urgent fix for production issue</div>
                </div>
                <div class="launch-type" onclick="selectLaunchType('pricing-change')">
                    <div class="launch-type-icon">üí∞</div>
                    <div class="launch-type-name">Pricing Change</div>
                    <div class="launch-type-desc">Rate or plan modifications</div>
                </div>
                <div class="launch-type" onclick="selectLaunchType('partnership')">
                    <div class="launch-type-icon">ü§ù</div>
                    <div class="launch-type-name">Partnership</div>
                    <div class="launch-type-desc">New integration or co-launch</div>
                </div>
            </div>
        </div>

        <!-- Step 2: Launch Details (hidden initially) -->
        <div class="card hidden" id="step2">
            <div class="card-title">Step 2: Launch Details</div>

            <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 1.5rem;">
                <div class="form-group">
                    <label class="form-label">Launch Name</label>
                    <input type="text" class="form-input" id="launchName" placeholder="e.g., Mistral Large 3 Release">
                </div>

                <div class="form-group">
                    <label class="form-label">Target Launch Date</label>
                    <input type="date" class="form-input" id="launchDate">
                </div>
            </div>

            <div class="form-group">
                <label class="form-label">Description</label>
                <textarea class="form-textarea" id="launchDesc" placeholder="Brief description of what's being launched and why it matters..."></textarea>
            </div>

            <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 1.5rem;">
                <div class="form-group">
                    <label class="form-label">Impact Level</label>
                    <select class="form-select" id="impactLevel" onchange="updateChecklist()">
                        <option value="">Select impact level...</option>
                        <option value="low">Low - Internal or minor change</option>
                        <option value="medium">Medium - Affects some customers</option>
                        <option value="high">High - Major customer impact</option>
                        <option value="critical">Critical - Company-wide announcement</option>
                    </select>
                </div>

                <div class="form-group">
                    <label class="form-label">Launch Tier</label>
                    <select class="form-select" id="launchTier">
                        <option value="">Select tier (determines GTM effort)...</option>
                        <option value="tier1">Tier 1 - Full GTM ($1M+ revenue impact)</option>
                        <option value="tier2">Tier 2 - Standard Launch (significant value)</option>
                        <option value="tier3">Tier 3 - Soft Launch (changelog only)</option>
                    </select>
                </div>
            </div>

            <!-- PRD & Documentation Links -->
            <div style="background: #f9fafb; border-radius: 8px; padding: 1.25rem; margin-bottom: 1.5rem;">
                <div style="font-weight: 600; margin-bottom: 1rem; display: flex; align-items: center; gap: 0.5rem;">
                    <span>üìÑ</span> Documentation & Planning
                </div>
                <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 1rem;">
                    <div class="form-group" style="margin-bottom: 0;">
                        <label class="form-label" style="font-size: 0.875rem;">PRD / Spec Document</label>
                        <div style="display: flex; gap: 0.5rem;">
                            <input type="text" class="form-input" id="prdLink" placeholder="Paste Notion link..." style="flex: 1;">
                            <button class="btn btn-secondary" onclick="importFromNotion()" style="padding: 0.75rem; font-size: 0.75rem; white-space: nowrap;">
                                üì• Import from Notion
                            </button>
                        </div>
                    </div>
                    <div class="form-group" style="margin-bottom: 0;">
                        <label class="form-label" style="font-size: 0.875rem;">Design Specs (Figma)</label>
                        <input type="text" class="form-input" id="figmaLink" placeholder="Paste Figma link...">
                    </div>
                </div>
            </div>

            <!-- Linear Project Connection -->
            <div style="background: linear-gradient(135deg, #f8f9ff 0%, #f0f1ff 100%); border: 1px solid #5e6ad2; border-radius: 8px; padding: 1.25rem; margin-bottom: 1.5rem;">
                <div style="font-weight: 600; margin-bottom: 1rem; display: flex; align-items: center; gap: 0.5rem;">
                    <svg width="16" height="16" viewBox="0 0 100 100" fill="#5e6ad2"><path d="M1.22541 61.5228c-.2225-.9485.90748-1.5459 1.59638-.857L39.3342 97.1782c.6889.6889.0915 1.8189-.857 1.5765a49.9392 49.9392 0 01-37.2513-37.2319zM100 50c0-27.614-22.386-50-50-50S0 22.386 0 50c0 15.5456 7.0862 29.432 18.2026 38.6227.2702.2233.6601.1786.8793-.1046l42.8393-55.408c.3258-.4211.9168-.4971 1.3325-.171l29.0494 22.8195c.4156.3262.9844.2524 1.2815-.1662l.1769-.2494C99.0658 48.3466 100 48.5 100 50z"/></svg>
                    Linear Project
                </div>
                <div style="display: grid; grid-template-columns: 1fr auto; gap: 1rem; align-items: end;">
                    <div class="form-group" style="margin-bottom: 0;">
                        <label class="form-label" style="font-size: 0.875rem;">Link Existing Project</label>
                        <select class="form-select" id="linearProject" onchange="loadLinearProject()">
                            <option value="">Select Linear project...</option>
                            <option value="MIS-2024-Q1">MIS-2024-Q1 ¬∑ Mistral Large 3 Launch</option>
                            <option value="MIS-2024-Q1-API">MIS-2024-Q1-API ¬∑ API v2 Migration</option>
                            <option value="MIS-2024-EMBED">MIS-2024-EMBED ¬∑ Embeddings v2</option>
                            <option value="new">+ Create new project...</option>
                        </select>
                    </div>
                    <button class="btn btn-secondary" onclick="syncFromLinear()" style="padding: 0.75rem 1rem; font-size: 0.75rem;">
                        üîÑ Sync Issues
                    </button>
                </div>
                <div id="linearProjectPreview" style="display: none; margin-top: 1rem; padding: 0.75rem; background: white; border-radius: 6px; font-size: 0.875rem;">
                    <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 0.5rem;">
                        <span style="font-weight: 600; color: #5e6ad2;" id="linearProjectId">MIS-2024-Q1</span>
                        <span style="color: #6b7280; font-size: 0.75rem;">12 issues ¬∑ 8 completed</span>
                    </div>
                    <div style="height: 4px; background: #e5e7eb; border-radius: 2px; overflow: hidden;">
                        <div style="height: 100%; width: 67%; background: #5e6ad2; border-radius: 2px;"></div>
                    </div>
                </div>
            </div>

            <!-- Team Connection -->
            <div style="background: #f9fafb; border-radius: 8px; padding: 1.25rem; margin-bottom: 1.5rem;">
                <div style="font-weight: 600; margin-bottom: 1rem; display: flex; align-items: center; gap: 0.5rem;">
                    <span>üë•</span> Team Connection
                </div>
                <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 1rem;">
                    <div class="form-group" style="margin-bottom: 0;">
                        <label class="form-label" style="font-size: 0.875rem;">Primary Team / Slack Channel</label>
                        <div style="position: relative;">
                            <select class="form-select" id="primaryTeamChannel">
                                <option value="">Select Slack channel...</option>
                                <option value="#product-launches">#product-launches</option>
                                <option value="#eng-platform">#eng-platform</option>
                                <option value="#ml-research">#ml-research</option>
                                <option value="#marketing">#marketing</option>
                                <option value="#sales-team">#sales-team</option>
                                <option value="new">+ Create launch channel...</option>
                            </select>
                        </div>
                    </div>
                    <div class="form-group" style="margin-bottom: 0;">
                        <label class="form-label" style="font-size: 0.875rem;">Launch DRI (from Directory)</label>
                        <div style="position: relative;">
                            <select class="form-select" id="launchDRI" onchange="loadDRIProfile()">
                                <option value="">Select from company directory...</option>
                                <option value="sophia">Sophia Chen - VP Product</option>
                                <option value="david">David Kim - Engineering Lead</option>
                                <option value="guillaume">Guillaume Lample - Chief Scientist</option>
                                <option value="emma">Emma Wilson - Head of Marketing</option>
                                <option value="marcus">Marcus Rodriguez - Head of Sales</option>
                            </select>
                        </div>
                    </div>
                </div>
                <div id="driPreview" style="display: none; margin-top: 1rem; padding: 0.75rem; background: white; border-radius: 6px; border: 1px solid #e5e7eb;">
                    <div style="display: flex; align-items: center; gap: 0.75rem;">
                        <div style="width: 40px; height: 40px; border-radius: 50%; background: linear-gradient(135deg, #f2613f 0%, #d84315 100%); display: flex; align-items: center; justify-content: center; color: white; font-weight: 600;" id="driAvatar">SC</div>
                        <div style="flex: 1;">
                            <div style="font-weight: 600;" id="driName">Sophia Chen</div>
                            <div style="font-size: 0.75rem; color: #6b7280;" id="driRole">VP Product ¬∑ @sophia.chen</div>
                        </div>
                        <div style="display: flex; gap: 0.5rem;">
                            <button onclick="openSlackDM()" style="padding: 0.25rem 0.5rem; background: none; border: 1px solid #e5e7eb; border-radius: 4px; font-size: 0.75rem; cursor: pointer;">üí¨ Slack</button>
                            <button onclick="viewProfile()" style="padding: 0.25rem 0.5rem; background: none; border: 1px solid #e5e7eb; border-radius: 4px; font-size: 0.75rem; cursor: pointer;">üë§ Profile</button>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Slack Integration Status -->
            <div style="display: flex; align-items: center; gap: 0.75rem; padding: 0.75rem; background: #dcfce7; border: 1px solid #86efac; border-radius: 8px; margin-bottom: 1.5rem;">
                <span style="color: #166534;">‚úì</span>
                <div style="flex: 1;">
                    <span style="font-size: 0.875rem; color: #166534; font-weight: 500;">Connected to Slack</span>
                    <span style="font-size: 0.75rem; color: #166534; margin-left: 0.5rem;">mistral-ai.slack.com</span>
                </div>
                <button style="padding: 0.25rem 0.5rem; background: none; border: 1px solid #86efac; border-radius: 4px; font-size: 0.75rem; cursor: pointer; color: #166534;">Settings</button>
            </div>

            <div class="btn-group">
                <button class="btn btn-secondary" onclick="goToStep(1)">‚Üê Back</button>
                <button class="btn btn-primary" onclick="goToStep(3)">Continue ‚Üí</button>
            </div>
        </div>

        <!-- Step 3: Tag Teams & People (hidden initially) -->
        <div class="card hidden" id="step3">
            <div class="card-title">Step 3: Who needs to be involved?</div>

            <div class="form-group">
                <label class="form-label">Select Teams (auto-notified based on launch type)</label>
                <div class="team-tags" id="teamTags">
                    <div class="team-tag" data-team="engineering" onclick="toggleTeam(this)">
                        <div class="team-tag-avatar">üõ†Ô∏è</div>
                        <span>Engineering</span>
                    </div>
                    <div class="team-tag" data-team="product" onclick="toggleTeam(this)">
                        <div class="team-tag-avatar">üì¶</div>
                        <span>Product</span>
                    </div>
                    <div class="team-tag" data-team="ml-research" onclick="toggleTeam(this)">
                        <div class="team-tag-avatar">üß™</div>
                        <span>ML Research</span>
                    </div>
                    <div class="team-tag" data-team="marketing" onclick="toggleTeam(this)">
                        <div class="team-tag-avatar">üì£</div>
                        <span>Marketing</span>
                    </div>
                    <div class="team-tag" data-team="sales" onclick="toggleTeam(this)">
                        <div class="team-tag-avatar">üíº</div>
                        <span>Sales</span>
                    </div>
                    <div class="team-tag" data-team="customer-success" onclick="toggleTeam(this)">
                        <div class="team-tag-avatar">üéØ</div>
                        <span>Customer Success</span>
                    </div>
                    <div class="team-tag" data-team="docs" onclick="toggleTeam(this)">
                        <div class="team-tag-avatar">üìö</div>
                        <span>Docs</span>
                    </div>
                    <div class="team-tag" data-team="legal" onclick="toggleTeam(this)">
                        <div class="team-tag-avatar">‚öñÔ∏è</div>
                        <span>Legal</span>
                    </div>
                    <div class="team-tag" data-team="security" onclick="toggleTeam(this)">
                        <div class="team-tag-avatar">üîí</div>
                        <span>Security</span>
                    </div>
                </div>
            </div>

            <div class="form-group">
                <label class="form-label">Tag Specific People (will be notified)</label>
                <div class="people-grid" id="peopleGrid">
                    <div class="person-card" data-person="arthur" onclick="togglePerson(this)">
                        <div class="person-avatar">AM</div>
                        <div class="person-info">
                            <div class="person-name">Arthur Mensch</div>
                            <div class="person-role">CEO</div>
                        </div>
                    </div>
                    <div class="person-card" data-person="guillaume" onclick="togglePerson(this)">
                        <div class="person-avatar">GL</div>
                        <div class="person-info">
                            <div class="person-name">Guillaume Lample</div>
                            <div class="person-role">Chief Scientist</div>
                        </div>
                    </div>
                    <div class="person-card" data-person="timothee" onclick="togglePerson(this)">
                        <div class="person-avatar">TL</div>
                        <div class="person-info">
                            <div class="person-name">Timoth√©e Lacroix</div>
                            <div class="person-role">CTO</div>
                        </div>
                    </div>
                    <div class="person-card" data-person="sophia" onclick="togglePerson(this)">
                        <div class="person-avatar">SC</div>
                        <div class="person-info">
                            <div class="person-name">Sophia Chen</div>
                            <div class="person-role">VP Product</div>
                        </div>
                    </div>
                    <div class="person-card" data-person="marcus" onclick="togglePerson(this)">
                        <div class="person-avatar">MR</div>
                        <div class="person-info">
                            <div class="person-name">Marcus Rodriguez</div>
                            <div class="person-role">Head of Sales</div>
                        </div>
                    </div>
                    <div class="person-card" data-person="emma" onclick="togglePerson(this)">
                        <div class="person-avatar">EW</div>
                        <div class="person-info">
                            <div class="person-name">Emma Wilson</div>
                            <div class="person-role">Head of Marketing</div>
                        </div>
                    </div>
                    <div class="person-card" data-person="david" onclick="togglePerson(this)">
                        <div class="person-avatar">DK</div>
                        <div class="person-info">
                            <div class="person-name">David Kim</div>
                            <div class="person-role">Engineering Lead</div>
                        </div>
                    </div>
                    <div class="person-card" data-person="lisa" onclick="togglePerson(this)">
                        <div class="person-avatar">LP</div>
                        <div class="person-info">
                            <div class="person-name">Lisa Park</div>
                            <div class="person-role">Customer Success</div>
                        </div>
                    </div>
                    <div class="person-card" data-person="james" onclick="togglePerson(this)">
                        <div class="person-avatar">JT</div>
                        <div class="person-info">
                            <div class="person-name">James Thompson</div>
                            <div class="person-role">Docs Lead</div>
                        </div>
                    </div>
                    <div class="person-card" data-person="anna" onclick="togglePerson(this)">
                        <div class="person-avatar">AB</div>
                        <div class="person-info">
                            <div class="person-name">Anna Bergstr√∂m</div>
                            <div class="person-role">Legal Counsel</div>
                        </div>
                    </div>
                </div>
            </div>

            <div class="btn-group">
                <button class="btn btn-secondary" onclick="goToStep(2)">‚Üê Back</button>
                <button class="btn btn-primary" onclick="generateChecklist()">Generate Checklist ‚Üí</button>
            </div>
        </div>

        <!-- Step 4: Generated Checklist (hidden initially) -->
        <div class="hidden" id="step4">
            <!-- Back to Overview Button -->
            <div style="margin-bottom: 1rem;">
                <button onclick="backToOverview()" class="btn btn-secondary" style="display: inline-flex; align-items: center; gap: 0.5rem;">
                    ‚Üê Back to Launch Types
                </button>
            </div>

            <div class="two-col">
                <div>
                    <!-- Progress -->
                    <div class="card">
                        <div class="progress-container">
                            <div class="progress-header">
                                <span class="progress-label">Launch Progress</span>
                                <span class="progress-percent" id="progressPercent">0%</span>
                            </div>
                            <div class="progress-bar">
                                <div class="progress-fill" id="progressFill" style="width: 0%"></div>
                            </div>
                            <div class="progress-breakdown" id="progressBreakdown">
                                <div class="progress-item">
                                    <span class="progress-dot critical"></span>
                                    <span>Critical: <strong id="criticalProgress">0/0</strong></span>
                                </div>
                                <div class="progress-item">
                                    <span class="progress-dot required"></span>
                                    <span>Required: <strong id="requiredProgress">0/0</strong></span>
                                </div>
                                <div class="progress-item">
                                    <span class="progress-dot recommended"></span>
                                    <span>Recommended: <strong id="recommendedProgress">0/0</strong></span>
                                </div>
                                <div class="progress-item">
                                    <span class="progress-dot optional"></span>
                                    <span>Optional: <strong id="optionalProgress">0/0</strong></span>
                                </div>
                            </div>
                        </div>

                        <div style="display: flex; gap: 1rem; flex-wrap: wrap; margin-top: 1rem;">
                            <div>
                                <span class="status-badge status-in-progress" id="statusBadge">In Progress</span>
                            </div>
                            <div style="font-size: 0.875rem; color: #6b7280;">
                                <strong id="launchNameDisplay">Mistral Large 3 Release</strong> ¬∑ Target: <span id="launchDateDisplay">Jan 25, 2026</span>
                            </div>
                        </div>

                        <!-- Priority Legend -->
                        <div style="margin-top: 1rem; padding-top: 1rem; border-top: 1px solid #e5e7eb;">
                            <div style="font-size: 0.75rem; font-weight: 600; color: #6b7280; margin-bottom: 0.5rem;">Priority Legend:</div>
                            <div style="display: flex; flex-wrap: wrap; gap: 0.5rem; font-size: 0.6875rem;">
                                <span class="priority-badge priority-critical">Critical - Non-negotiable</span>
                                <span class="priority-badge priority-required">Required - Should do</span>
                                <span class="priority-badge priority-recommended">Recommended - Nice to have</span>
                                <span class="priority-badge priority-optional">Optional - Can skip</span>
                            </div>
                        </div>
                    </div>

                    <!-- Dynamic Playbook -->
                    <div class="playbook" id="playbook">
                        <div class="playbook-title">üìã Playbook for Model Release</div>
                        <div class="playbook-content" id="playbookContent">
                            Loading playbook...
                        </div>
                    </div>

                    <!-- Checklist Sections -->
                    <div id="checklistContainer">
                        <!-- Will be populated dynamically -->
                    </div>
                </div>

                <div>
                    <!-- Required Meetings (minimal) -->
                    <div class="card">
                        <div class="card-title">üìÖ Required Meetings</div>
                        <div id="meetingsList" style="font-size: 0.875rem;">
                            <!-- Will be populated dynamically -->
                        </div>
                    </div>

                    <!-- Team-Specific Playbooks -->
                    <div class="card">
                        <div class="card-title">üìö Team Playbooks</div>
                        <div id="teamPlaybooks" style="display: flex; flex-direction: column; gap: 0.5rem;">
                            <!-- Will be populated dynamically -->
                        </div>
                    </div>

                    <!-- Notifications Preview -->
                    <div class="notifications-panel">
                        <div class="notifications-title">üîî Slack Notifications</div>
                        <div id="notificationsList">
                            <!-- Will be populated dynamically -->
                        </div>
                        <div style="margin-top: 0.75rem; padding-top: 0.75rem; border-top: 1px solid #93c5fd;">
                            <div style="font-size: 0.75rem; color: #1e40af; display: flex; align-items: center; gap: 0.5rem;">
                                <span>üîó</span>
                                <span>Connected to Slack workspace: <strong>mistral-ai.slack.com</strong></span>
                            </div>
                        </div>
                    </div>

                    <!-- Timeline -->
                    <div class="card">
                        <div class="card-title">Launch Timeline</div>
                        <div class="timeline" id="timeline">
                            <!-- Will be populated dynamically -->
                        </div>
                    </div>

                    <!-- Linear Integration -->
                    <div class="card" style="border: 1px solid #5e6ad2; background: linear-gradient(135deg, #f8f9ff 0%, #f0f1ff 100%);">
                        <div class="card-title" style="display: flex; align-items: center; gap: 0.5rem;">
                            <svg width="16" height="16" viewBox="0 0 100 100" fill="#5e6ad2"><path d="M1.22541 61.5228c-.2225-.9485.90748-1.5459 1.59638-.857L39.3342 97.1782c.6889.6889.0915 1.8189-.857 1.5765a49.9392 49.9392 0 01-37.2513-37.2319zM100 50c0-27.614-22.386-50-50-50S0 22.386 0 50c0 15.5456 7.0862 29.432 18.2026 38.6227.2702.2233.6601.1786.8793-.1046l42.8393-55.408c.3258-.4211.9168-.4971 1.3325-.171l29.0494 22.8195c.4156.3262.9844.2524 1.2815-.1662l.1769-.2494C99.0658 48.3466 100 48.5 100 50z"/></svg>
                            Linear Project
                        </div>
                        <div id="linearProject" style="font-size: 0.875rem;">
                            <div style="display: flex; align-items: center; justify-content: space-between; padding: 0.5rem 0; border-bottom: 1px solid #e0e1ff;">
                                <div>
                                    <div style="font-weight: 600; color: #5e6ad2;">MIS-2024-Q1</div>
                                    <div style="font-size: 0.75rem; color: #6b7280;">Mistral Large 3 Launch</div>
                                </div>
                                <a href="#" onclick="openLinear()" style="color: #5e6ad2; font-size: 0.75rem;">Open in Linear ‚Üí</a>
                            </div>
                            <div style="display: flex; gap: 1rem; padding: 0.5rem 0; font-size: 0.75rem; color: #6b7280;">
                                <span>12 issues</span>
                                <span>8 completed</span>
                                <span style="color: #22c55e;">67% done</span>
                            </div>
                        </div>
                    </div>

                    <!-- Launch Calendar Link -->
                    <div class="card">
                        <div class="card-title">üìÖ Launch Calendar</div>
                        <div style="font-size: 0.875rem; margin-bottom: 0.75rem;">
                            <div style="display: flex; align-items: center; gap: 0.5rem; padding: 0.5rem; background: #fef3c7; border-radius: 6px; margin-bottom: 0.5rem;">
                                <span>üóìÔ∏è</span>
                                <span style="font-weight: 500;">Feb 15, 2026</span>
                                <span style="color: #92400e; font-size: 0.75rem;">Target GA</span>
                            </div>
                            <a href="./interactive-launch-calendar.html" target="_blank" style="display: flex; align-items: center; gap: 0.5rem; color: #f2613f; font-size: 0.875rem; text-decoration: none;">
                                View in Launch Calendar ‚Üí
                            </a>
                        </div>
                    </div>

                    <!-- Linked Feedback (Users who requested this) -->
                    <div class="card">
                        <div class="card-title">üí¨ Linked Feedback</div>
                        <div style="font-size: 0.75rem; color: #6b7280; margin-bottom: 0.75rem;">Users who requested this feature will be notified on launch</div>
                        <div id="linkedFeedback" style="display: flex; flex-direction: column; gap: 0.5rem; max-height: 200px; overflow-y: auto;">
                            <div style="display: flex; align-items: center; gap: 0.5rem; padding: 0.5rem; background: #f9fafb; border-radius: 6px; font-size: 0.875rem;">
                                <span style="background: #fef3c7; padding: 0.125rem 0.5rem; border-radius: 4px; font-size: 0.625rem; color: #92400e;">Enterprise</span>
                                <span style="flex: 1;">TechCorp - "Need better reasoning for code review"</span>
                                <span style="color: #6b7280; font-size: 0.75rem;">$125K ARR</span>
                            </div>
                            <div style="display: flex; align-items: center; gap: 0.5rem; padding: 0.5rem; background: #f9fafb; border-radius: 6px; font-size: 0.875rem;">
                                <span style="background: #dbeafe; padding: 0.125rem 0.5rem; border-radius: 4px; font-size: 0.625rem; color: #1e40af;">Growth</span>
                                <span style="flex: 1;">DataFlow Inc - "Waiting for improved context window"</span>
                                <span style="color: #6b7280; font-size: 0.75rem;">$45K ARR</span>
                            </div>
                            <div style="display: flex; align-items: center; gap: 0.5rem; padding: 0.5rem; background: #f9fafb; border-radius: 6px; font-size: 0.875rem;">
                                <span style="background: #dcfce7; padding: 0.125rem 0.5rem; border-radius: 4px; font-size: 0.625rem; color: #166534;">GitHub</span>
                                <span style="flex: 1;">Issue #258 - DLL loading on Windows (42 upvotes)</span>
                                <span style="color: #6b7280; font-size: 0.75rem;">Community</span>
                            </div>
                            <div style="display: flex; align-items: center; gap: 0.5rem; padding: 0.5rem; background: #f9fafb; border-radius: 6px; font-size: 0.875rem;">
                                <span style="background: #fee2e2; padding: 0.125rem 0.5rem; border-radius: 4px; font-size: 0.625rem; color: #991b1b;">Churn Risk</span>
                                <span style="flex: 1;">GlobalFinance - "Blocked on reasoning improvements"</span>
                                <span style="color: #6b7280; font-size: 0.75rem;">$500K ARR</span>
                            </div>
                        </div>
                        <div style="margin-top: 0.75rem; padding-top: 0.75rem; border-top: 1px solid #e5e7eb; display: flex; justify-content: space-between; align-items: center;">
                            <span style="font-size: 0.75rem; color: #6b7280;">4 users ¬∑ $670K ARR impacted</span>
                            <a href="./dashboard-mockup-v4-real-data.html" target="_blank" style="font-size: 0.75rem; color: #f2613f; text-decoration: none;">View in Feedback Dashboard ‚Üí</a>
                        </div>
                    </div>

                    <!-- AI Comms Review -->
                    <div class="card" style="border-left: 4px solid #8b5cf6;">
                        <div class="card-title">‚ú® AI Content Review</div>
                        <div style="font-size: 0.75rem; color: #6b7280; margin-bottom: 1rem;">
                            Ensure all launch communications follow company voice, brand guidelines, and are error-free
                        </div>
                        <div style="display: flex; flex-direction: column; gap: 0.5rem;">
                            <button class="btn btn-secondary" onclick="reviewContent('email')" style="text-align: left; justify-content: flex-start;">
                                üìß Review Customer Email
                            </button>
                            <button class="btn btn-secondary" onclick="reviewContent('blog')" style="text-align: left; justify-content: flex-start;">
                                üìù Review Blog Post
                            </button>
                            <button class="btn btn-secondary" onclick="reviewContent('social')" style="text-align: left; justify-content: flex-start;">
                                üì± Review Social Posts
                            </button>
                            <button class="btn btn-secondary" onclick="reviewContent('changelog')" style="text-align: left; justify-content: flex-start;">
                                üìã Review Changelog
                            </button>
                        </div>
                        <div style="margin-top: 1rem; padding-top: 0.75rem; border-top: 1px solid #e5e7eb;">
                            <div style="font-size: 0.6875rem; color: #6b7280; margin-bottom: 0.5rem;">AI checks for:</div>
                            <div style="display: flex; flex-wrap: wrap; gap: 0.25rem; font-size: 0.625rem;">
                                <span style="background: #f3e8ff; color: #7c3aed; padding: 0.125rem 0.375rem; border-radius: 4px;">Brand voice</span>
                                <span style="background: #f3e8ff; color: #7c3aed; padding: 0.125rem 0.375rem; border-radius: 4px;">Typos</span>
                                <span style="background: #f3e8ff; color: #7c3aed; padding: 0.125rem 0.375rem; border-radius: 4px;">Tone</span>
                                <span style="background: #f3e8ff; color: #7c3aed; padding: 0.125rem 0.375rem; border-radius: 4px;">Legal compliance</span>
                                <span style="background: #f3e8ff; color: #7c3aed; padding: 0.125rem 0.375rem; border-radius: 4px;">Accuracy</span>
                            </div>
                        </div>
                    </div>

                    <!-- Sales Subscriptions -->
                    <div class="card">
                        <div class="card-title">üíº Sales Subscriptions</div>
                        <div style="font-size: 0.75rem; color: #6b7280; margin-bottom: 0.75rem;">
                            Sales reps and their accounts subscribed to this launch
                        </div>
                        <div id="salesSubscribersList" style="font-size: 0.8125rem;">
                            <div style="display: flex; align-items: center; gap: 0.5rem; padding: 0.5rem; background: #f9fafb; border-radius: 6px; margin-bottom: 0.5rem;">
                                <span style="width: 24px; height: 24px; border-radius: 50%; background: #f2613f; color: white; display: flex; align-items: center; justify-content: center; font-size: 0.625rem; font-weight: 600;">MR</span>
                                <div style="flex: 1;">
                                    <div style="font-weight: 500;">Marcus Rodriguez</div>
                                    <div style="font-size: 0.6875rem; color: #6b7280;">TechCorp, GlobalFinance</div>
                                </div>
                            </div>
                            <div style="display: flex; align-items: center; gap: 0.5rem; padding: 0.5rem; background: #f9fafb; border-radius: 6px; margin-bottom: 0.5rem;">
                                <span style="width: 24px; height: 24px; border-radius: 50%; background: #3b82f6; color: white; display: flex; align-items: center; justify-content: center; font-size: 0.625rem; font-weight: 600;">SJ</span>
                                <div style="flex: 1;">
                                    <div style="font-weight: 500;">Sarah Johnson</div>
                                    <div style="font-size: 0.6875rem; color: #6b7280;">DataFlow Inc</div>
                                </div>
                            </div>
                        </div>
                        <button class="btn btn-secondary" onclick="showSalesSubscription()" style="width: 100%; margin-top: 0.5rem;">
                            ‚ûï Add Sales Subscription
                        </button>
                    </div>

                    <!-- Quick Actions -->
                    <div class="card">
                        <div class="card-title">Quick Actions</div>
                        <div style="display: flex; flex-direction: column; gap: 0.75rem;">
                            <button class="btn btn-secondary" onclick="sendReminders()">üì§ Send Slack Reminders</button>
                            <button class="btn btn-secondary" onclick="scheduleMeetings()">üìÖ Schedule Meetings in Calendar</button>
                            <button class="btn btn-secondary" onclick="syncToLinear()">üîÑ Sync to Linear</button>
                            <button class="btn btn-secondary" onclick="notifyRequesters()">üì£ Notify Requesters (4 users)</button>
                            <button class="btn btn-primary" onclick="markLaunched()">üöÄ Mark as Launched</button>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <script>
        // State
        let selectedLaunchType = null;
        let selectedTeams = [];
        let selectedPeople = [];
        let checklistItems = [];

        // Launch type configurations
        const launchConfigs = {
            'major-feature': {
                name: 'Major Feature',
                defaultTeams: ['engineering', 'product', 'marketing', 'docs', 'customer-success', 'sales', 'legal', 'security'],
                playbook: `
                    <strong>Major Feature Launch Playbook</strong>
                    <p style="margin: 0.5rem 0; font-style: italic;">Based on best practices from Stripe, Figma, Linear, and Apple</p>
                    <ul>
                        <li><strong>T-4 weeks:</strong> Feature freeze, begin beta program, legal review</li>
                        <li><strong>T-2 weeks:</strong> Internal demo to all teams, docs complete, enablement</li>
                        <li><strong>T-1 week:</strong> Final QA, marketing assets approved, press briefed</li>
                        <li><strong>T-3 days:</strong> Go/no-go decision, all materials staged</li>
                        <li><strong>Launch day:</strong> Coordinated release across all channels</li>
                        <li><strong>T+1 week:</strong> Retro, metrics review, iterate on feedback</li>
                    </ul>
                    <br>
                    <strong>üéØ Launch Tier Criteria:</strong>
                    <ul>
                        <li><strong>Tier 1 (Full GTM):</strong> Revenue impact >$1M, competitive differentiator</li>
                        <li><strong>Tier 2 (Standard):</strong> Significant customer value, moderate marketing</li>
                        <li><strong>Tier 3 (Soft):</strong> Incremental improvement, changelog + email only</li>
                    </ul>
                `,
                checklist: [
                    { section: 'Pre-Launch Planning', icon: 'üìã', team: 'Product', items: [
                        { title: 'Launch tier determined (Tier 1/2/3)', owner: 'Sophia Chen', due: '-28d', priority: 'critical', playbook: 'Launch Tier Criteria' },
                        { title: 'Launch DRI assigned', owner: 'Sophia Chen', due: '-28d', priority: 'critical', playbook: 'DRI Responsibilities' },
                        { title: 'Cross-functional kickoff meeting held', owner: 'Sophia Chen', due: '-28d', priority: 'critical' },
                        { title: 'Launch timeline and milestones agreed', owner: 'Sophia Chen', due: '-28d', priority: 'critical' },
                        { title: 'Success criteria and KPIs defined', owner: 'Sophia Chen', due: '-21d', priority: 'required' },
                        { title: 'Risk assessment completed', owner: 'Sophia Chen', due: '-21d', priority: 'required', playbook: 'Risk Assessment Template' },
                    ]},
                    { section: 'Engineering & QA', icon: 'üõ†Ô∏è', team: 'Engineering', items: [
                        { title: 'Feature code complete and merged', owner: 'David Kim', due: '-21d', priority: 'critical' },
                        { title: 'Code review complete', owner: 'David Kim', due: '-21d', priority: 'critical' },
                        { title: 'All unit tests passing (>90% coverage)', owner: 'David Kim', due: '-14d', priority: 'critical' },
                        { title: 'Integration tests passing', owner: 'David Kim', due: '-14d', priority: 'critical' },
                        { title: 'E2E tests passing', owner: 'David Kim', due: '-14d', priority: 'required' },
                        { title: 'Performance benchmarks validated', owner: 'David Kim', due: '-10d', priority: 'required', playbook: 'Load Testing Guide' },
                        { title: 'Load testing complete', owner: 'David Kim', due: '-10d', priority: 'required', playbook: 'Load Testing Guide' },
                        { title: 'Accessibility audit passed (WCAG 2.1)', owner: 'David Kim', due: '-10d', priority: 'recommended' },
                        { title: 'Mobile/responsive testing complete', owner: 'David Kim', due: '-7d', priority: 'recommended' },
                        { title: 'Feature flag configured for rollout', owner: 'David Kim', due: '-7d', priority: 'critical', playbook: 'Staged Rollout Playbook' },
                        { title: 'Rollback plan documented', owner: 'David Kim', due: '-7d', priority: 'critical', playbook: 'Rollback Procedure' },
                        { title: 'Monitoring dashboards configured', owner: 'David Kim', due: '-5d', priority: 'critical' },
                        { title: 'Alerting thresholds set', owner: 'David Kim', due: '-5d', priority: 'required' },
                        { title: 'On-call rotation confirmed', owner: 'David Kim', due: '-3d', priority: 'critical', playbook: 'On-Call Rotation Setup' },
                        { title: 'Staged rollout plan (1%‚Üí10%‚Üí50%‚Üí100%)', owner: 'David Kim', due: '-3d', priority: 'critical', playbook: 'Staged Rollout Playbook' },
                    ]},
                    { section: 'Security & Compliance', icon: 'üîí', team: 'Security', items: [
                        { title: 'Security review complete', owner: 'Security Lead', due: '-14d', priority: 'critical', playbook: 'Security Review Checklist' },
                        { title: 'Vulnerability scan passed', owner: 'Security Lead', due: '-10d', priority: 'critical' },
                        { title: 'Data privacy impact assessment', owner: 'Anna Bergstr√∂m', due: '-14d', priority: 'critical', playbook: 'Data Privacy Assessment' },
                        { title: 'GDPR/CCPA compliance verified', owner: 'Anna Bergstr√∂m', due: '-10d', priority: 'critical', playbook: 'Data Privacy Assessment' },
                        { title: 'SOC 2 controls documented', owner: 'Security Lead', due: '-7d', priority: 'required', playbook: 'SOC 2 Controls Documentation' },
                        { title: 'Terms of service update (if needed)', owner: 'Anna Bergstr√∂m', due: '-7d', priority: 'optional' },
                    ]},
                    { section: 'Product & Design', icon: 'üì¶', team: 'Product', items: [
                        { title: 'PRD finalized and approved', owner: 'Sophia Chen', due: '-28d', priority: 'critical', playbook: 'PRD Template' },
                        { title: 'Design specs complete and handed off', owner: 'Design Lead', due: '-28d', priority: 'critical', playbook: 'Design Handoff Process' },
                        { title: 'UX copy finalized', owner: 'Design Lead', due: '-14d', priority: 'required', playbook: 'UX Copy Guidelines' },
                        { title: 'Error states and edge cases designed', owner: 'Design Lead', due: '-14d', priority: 'required' },
                        { title: 'Onboarding flow designed', owner: 'Design Lead', due: '-14d', priority: 'recommended' },
                        { title: 'Product positioning finalized', owner: 'Sophia Chen', due: '-14d', priority: 'required', playbook: 'Positioning Framework' },
                        { title: 'Competitive analysis updated', owner: 'Sophia Chen', due: '-14d', priority: 'recommended', playbook: 'Competitive Analysis Template' },
                        { title: 'Pricing impact assessed (if applicable)', owner: 'Sophia Chen', due: '-14d', priority: 'optional', playbook: 'Pricing Strategy Framework' },
                        { title: 'Internal FAQ document prepared', owner: 'Sophia Chen', due: '-7d', priority: 'required' },
                        { title: 'Demo script finalized', owner: 'Sophia Chen', due: '-5d', priority: 'required', playbook: 'Demo Script Template' },
                    ]},
                    { section: 'Beta Program', icon: 'üß™', team: 'Customer Success', items: [
                        { title: 'Beta cohort identified', owner: 'Lisa Park', due: '-28d', priority: 'required', playbook: 'Beta Program Setup' },
                        { title: 'Beta users onboarded', owner: 'Lisa Park', due: '-21d', priority: 'required' },
                        { title: 'Beta feedback collection system set up', owner: 'Lisa Park', due: '-21d', priority: 'required', playbook: 'Beta Feedback Collection' },
                        { title: 'Weekly beta feedback reviews', owner: 'Sophia Chen', due: '-14d', priority: 'recommended' },
                        { title: 'Critical beta bugs fixed', owner: 'David Kim', due: '-10d', priority: 'critical' },
                        { title: 'Beta NPS/satisfaction collected', owner: 'Lisa Park', due: '-7d', priority: 'recommended' },
                        { title: 'Beta testimonials collected', owner: 'Lisa Park', due: '-7d', priority: 'optional' },
                        { title: 'Beta‚ÜíGA migration plan communicated', owner: 'Lisa Park', due: '-5d', priority: 'critical', playbook: 'Beta ‚Üí GA Migration Guide' },
                    ]},
                    { section: 'Documentation', icon: 'üìö', team: 'Docs', items: [
                        { title: 'Technical documentation drafted', owner: 'James Thompson', due: '-14d', priority: 'critical', playbook: 'Doc Style Guide' },
                        { title: 'API reference updated', owner: 'James Thompson', due: '-10d', priority: 'critical', playbook: 'API Reference Template' },
                        { title: 'User guides and tutorials created', owner: 'James Thompson', due: '-10d', priority: 'required', playbook: 'Tutorial Structure' },
                        { title: 'In-app tooltips and help text', owner: 'James Thompson', due: '-7d', priority: 'recommended' },
                        { title: 'Video walkthrough recorded', owner: 'James Thompson', due: '-7d', priority: 'optional', playbook: 'Video Recording Guide' },
                        { title: 'Knowledge base articles created', owner: 'James Thompson', due: '-5d', priority: 'required' },
                        { title: 'Changelog entry drafted', owner: 'James Thompson', due: '-3d', priority: 'critical', playbook: 'Changelog Format' },
                        { title: 'Release notes finalized', owner: 'James Thompson', due: '-1d', priority: 'critical' },
                        { title: 'All docs reviewed and approved', owner: 'James Thompson', due: '-1d', priority: 'critical' },
                    ]},
                    { section: 'Marketing & Communications', icon: 'üì£', team: 'Marketing', items: [
                        { title: 'Messaging framework approved', owner: 'Emma Wilson', due: '-14d', priority: 'critical', playbook: 'Messaging Framework' },
                        { title: 'Blog post drafted', owner: 'Emma Wilson', due: '-10d', priority: 'critical', playbook: 'Blog Post Template' },
                        { title: 'Blog post reviewed by legal', owner: 'Anna Bergstr√∂m', due: '-7d', priority: 'critical' },
                        { title: 'Social media content created', owner: 'Emma Wilson', due: '-7d', priority: 'required', playbook: 'Social Media Playbook' },
                        { title: 'Email campaign drafted (customers)', owner: 'Emma Wilson', due: '-7d', priority: 'required', playbook: 'Email Campaign Templates' },
                        { title: 'Email campaign drafted (prospects)', owner: 'Emma Wilson', due: '-7d', priority: 'recommended', playbook: 'Email Campaign Templates' },
                        { title: 'Product screenshots/GIFs created', owner: 'Emma Wilson', due: '-5d', priority: 'required' },
                        { title: 'Demo video produced', owner: 'Emma Wilson', due: '-5d', priority: 'recommended' },
                        { title: 'Landing page live (gated)', owner: 'Emma Wilson', due: '-5d', priority: 'recommended' },
                        { title: 'Press release drafted (if Tier 1)', owner: 'Emma Wilson', due: '-5d', priority: 'optional', playbook: 'Press Release Template' },
                        { title: 'Press/analyst briefings scheduled', owner: 'Emma Wilson', due: '-5d', priority: 'optional' },
                        { title: 'Influencer/community outreach', owner: 'Emma Wilson', due: '-3d', priority: 'optional', playbook: 'Influencer Outreach Guide' },
                        { title: 'All assets reviewed and approved', owner: 'Emma Wilson', due: '-2d', priority: 'critical' },
                        { title: 'Social posts scheduled', owner: 'Emma Wilson', due: '-1d', priority: 'required' },
                        { title: 'Email campaigns queued', owner: 'Emma Wilson', due: '-1d', priority: 'required' },
                    ]},
                    { section: 'Sales Enablement', icon: 'üíº', team: 'Sales', items: [
                        { title: 'Sales team briefed on feature', owner: 'Marcus Rodriguez', due: '-14d', priority: 'critical' },
                        { title: 'Sales training session held', owner: 'Marcus Rodriguez', due: '-10d', priority: 'required' },
                        { title: 'Battle cards updated', owner: 'Marcus Rodriguez', due: '-7d', priority: 'critical', playbook: 'Battle Card Template' },
                        { title: 'Objection handling guide updated', owner: 'Marcus Rodriguez', due: '-7d', priority: 'required', playbook: 'Objection Handling Guide' },
                        { title: 'Sales deck updated', owner: 'Marcus Rodriguez', due: '-7d', priority: 'required' },
                        { title: 'Demo environment ready', owner: 'Marcus Rodriguez', due: '-5d', priority: 'required', playbook: 'Demo Script Template' },
                        { title: 'Pricing guidance documented', owner: 'Marcus Rodriguez', due: '-5d', priority: 'required', playbook: 'Pricing Guidance Doc' },
                        { title: 'Strategic accounts pre-briefed', owner: 'Marcus Rodriguez', due: '-5d', priority: 'recommended' },
                        { title: 'Partner sales teams notified', owner: 'Marcus Rodriguez', due: '-3d', priority: 'optional' },
                        { title: 'CRM fields updated', owner: 'Marcus Rodriguez', due: '-1d', priority: 'required' },
                    ]},
                    { section: 'Customer Success & Support', icon: 'üéØ', team: 'Customer Success', items: [
                        { title: 'CS team trained on feature', owner: 'Lisa Park', due: '-10d', priority: 'critical' },
                        { title: 'Support team training complete', owner: 'Lisa Park', due: '-7d', priority: 'critical' },
                        { title: 'Support runbooks created', owner: 'Lisa Park', due: '-7d', priority: 'critical', playbook: 'Support Runbook Template' },
                        { title: 'Known issues documented', owner: 'Lisa Park', due: '-5d', priority: 'required', playbook: 'Known Issues Tracker' },
                        { title: 'Escalation path defined', owner: 'Lisa Park', due: '-5d', priority: 'critical', playbook: 'Escalation Matrix' },
                        { title: 'Support macros updated', owner: 'Lisa Park', due: '-3d', priority: 'recommended' },
                        { title: 'Top customers notified', owner: 'Lisa Park', due: '-3d', priority: 'required', playbook: 'Customer Notification Templates' },
                        { title: 'Customer webinar scheduled', owner: 'Lisa Park', due: '-3d', priority: 'optional', playbook: 'Webinar Planning Guide' },
                        { title: 'Launch week on-call coverage', owner: 'Lisa Park', due: '-1d', priority: 'critical' },
                    ]},
                    { section: 'Launch Day Execution', icon: 'üöÄ', team: 'Product', items: [
                        { title: 'Launch war room/channel created', owner: 'Sophia Chen', due: '-1d', priority: 'critical', playbook: 'War Room Setup' },
                        { title: 'Go/no-go checklist complete', owner: 'Sophia Chen', due: '-1d', priority: 'critical', playbook: 'Go/No-Go Checklist' },
                        { title: 'All stakeholders confirmed GO', owner: 'Sophia Chen', due: '0d', priority: 'critical' },
                        { title: 'Feature flag enabled (staged rollout)', owner: 'David Kim', due: '0d', priority: 'critical', playbook: 'Staged Rollout Playbook' },
                        { title: 'Smoke tests passed in production', owner: 'David Kim', due: '0d', priority: 'critical' },
                        { title: 'Blog post published', owner: 'Emma Wilson', due: '0d', priority: 'critical' },
                        { title: 'Social posts live', owner: 'Emma Wilson', due: '0d', priority: 'required' },
                        { title: 'Emails sent', owner: 'Emma Wilson', due: '0d', priority: 'required' },
                        { title: 'In-app announcement enabled', owner: 'Sophia Chen', due: '0d', priority: 'recommended' },
                        { title: 'Monitoring reviewed hourly', owner: 'David Kim', due: '0d', priority: 'critical', playbook: 'Monitoring Dashboard Guide' },
                        { title: 'Support queue monitored', owner: 'Lisa Park', due: '0d', priority: 'critical' },
                        { title: 'Social listening active', owner: 'Emma Wilson', due: '0d', priority: 'recommended' },
                    ]},
                    { section: 'Post-Launch', icon: 'üìä', team: 'Product', items: [
                        { title: 'Day 1 metrics dashboard reviewed', owner: 'Sophia Chen', due: '+1d', priority: 'critical', playbook: 'Metrics Dashboard Setup' },
                        { title: 'Initial customer feedback triaged', owner: 'Lisa Park', due: '+1d', priority: 'critical', playbook: 'Feedback Triage Process' },
                        { title: 'Critical bugs addressed', owner: 'David Kim', due: '+1d', priority: 'critical' },
                        { title: 'Full rollout complete (100%)', owner: 'David Kim', due: '+3d', priority: 'critical' },
                        { title: 'Week 1 metrics report', owner: 'Sophia Chen', due: '+7d', priority: 'required' },
                        { title: 'Launch retro held', owner: 'Sophia Chen', due: '+7d', priority: 'required', playbook: 'Launch Retro Template' },
                        { title: 'Customer feedback summary shared', owner: 'Lisa Park', due: '+7d', priority: 'recommended' },
                        { title: 'Iterate on feedback (v1.1 planning)', owner: 'Sophia Chen', due: '+14d', priority: 'recommended', playbook: 'Iteration Planning' },
                    ]},
                ]
            },
            'model-release': {
                name: 'Model Release',
                defaultTeams: ['ml-research', 'engineering', 'product', 'marketing', 'docs', 'sales', 'legal', 'customer-success', 'security'],
                playbook: `
                    <strong>Model Release Playbook - Full GTM</strong>
                    <ul>
                        <li><strong>6 weeks before:</strong> Safety eval complete, compliance review started</li>
                        <li><strong>4 weeks before:</strong> Final benchmarks, pricing model approved, beta program launched</li>
                        <li><strong>2 weeks before:</strong> Model card, all docs, Sales/CS enablement complete</li>
                        <li><strong>1 week before:</strong> Final go/no-go, all materials approved, comms ready</li>
                        <li><strong>Launch day:</strong> Technical blog, HuggingFace, API activation, PR push</li>
                        <li><strong>Post-launch:</strong> Beta users migrated, monitor feedback, quick-fix SLA</li>
                    </ul>
                    <br>
                    <strong>‚ö†Ô∏è Critical path items:</strong>
                    <ul>
                        <li>Legal/Compliance sign-off is a hard blocker</li>
                        <li>Beta users must be migrated before deprecation</li>
                        <li>Pricing must be in billing system before launch</li>
                        <li>Support team must have runbooks ready</li>
                    </ul>
                `,
                checklist: [
                    { section: 'ML Research & Science', icon: 'üß™', items: [
                        { title: 'Final training run complete and validated', owner: 'Guillaume Lample', due: '-28d' },
                        { title: 'Internal benchmark suite passed (MMLU, HumanEval, etc.)', owner: 'Guillaume Lample', due: '-21d' },
                        { title: 'External benchmark evaluation finalized', owner: 'Guillaume Lample', due: '-14d' },
                        { title: 'Red team safety evaluation complete', owner: 'Guillaume Lample', due: '-21d' },
                        { title: 'Bias and fairness assessment documented', owner: 'Guillaume Lample', due: '-21d' },
                        { title: 'Model card drafted with capabilities & limitations', owner: 'Guillaume Lample', due: '-14d' },
                        { title: 'Technical blog post drafted and reviewed', owner: 'Guillaume Lample', due: '-7d' },
                        { title: 'Research paper/arxiv submission (if applicable)', owner: 'Guillaume Lample', due: '-7d' },
                        { title: 'Benchmark comparison vs competitors documented', owner: 'Guillaume Lample', due: '-7d' },
                    ]},
                    { section: 'Legal & Compliance', icon: '‚öñÔ∏è', items: [
                        { title: 'License terms finalized (Apache/Commercial/Custom)', owner: 'Anna Bergstr√∂m', due: '-28d' },
                        { title: 'EU AI Act compliance review complete', owner: 'Anna Bergstr√∂m', due: '-21d' },
                        { title: 'GDPR data processing assessment', owner: 'Anna Bergstr√∂m', due: '-21d' },
                        { title: 'Export control review (ITAR/EAR if applicable)', owner: 'Anna Bergstr√∂m', due: '-21d' },
                        { title: 'Terms of service updated for new model', owner: 'Anna Bergstr√∂m', due: '-14d' },
                        { title: 'Acceptable use policy reviewed', owner: 'Anna Bergstr√∂m', due: '-14d' },
                        { title: 'Third-party IP review (training data)', owner: 'Anna Bergstr√∂m', due: '-14d' },
                        { title: 'Privacy policy updates (if needed)', owner: 'Anna Bergstr√∂m', due: '-10d' },
                        { title: 'Final legal sign-off obtained', owner: 'Anna Bergstr√∂m', due: '-7d' },
                        { title: 'Regulatory filing (EU AI Office if high-risk)', owner: 'Anna Bergstr√∂m', due: '-5d' },
                    ]},
                    { section: 'Security', icon: 'üîí', items: [
                        { title: 'Security review of model endpoints', owner: 'Security Lead', due: '-14d' },
                        { title: 'Penetration testing complete', owner: 'Security Lead', due: '-10d' },
                        { title: 'Rate limiting and abuse prevention configured', owner: 'Security Lead', due: '-7d' },
                        { title: 'Jailbreak/prompt injection mitigations tested', owner: 'Security Lead', due: '-7d' },
                        { title: 'Incident response plan updated', owner: 'Security Lead', due: '-5d' },
                    ]},
                    { section: 'Engineering & Infrastructure', icon: 'üõ†Ô∏è', items: [
                        { title: 'Model deployed to staging environment', owner: 'Timoth√©e Lacroix', due: '-21d' },
                        { title: 'Load testing complete (target QPS validated)', owner: 'David Kim', due: '-14d' },
                        { title: 'API endpoints configured and tested', owner: 'David Kim', due: '-14d' },
                        { title: 'Latency benchmarks meet SLA requirements', owner: 'David Kim', due: '-10d' },
                        { title: 'Auto-scaling configured and tested', owner: 'David Kim', due: '-10d' },
                        { title: 'Monitoring dashboards configured', owner: 'David Kim', due: '-7d' },
                        { title: 'Alerting thresholds set (latency, errors, cost)', owner: 'David Kim', due: '-7d' },
                        { title: 'Rollback plan documented and tested', owner: 'David Kim', due: '-5d' },
                        { title: 'HuggingFace weights uploaded (if open)', owner: 'David Kim', due: '-3d' },
                        { title: 'SDK libraries updated (Python, JS, etc.)', owner: 'David Kim', due: '-3d' },
                        { title: 'Production deployment validated', owner: 'David Kim', due: '-1d' },
                        { title: 'Feature flag ready for gradual rollout', owner: 'David Kim', due: '-1d' },
                    ]},
                    { section: 'Pricing & Billing', icon: 'üí∞', items: [
                        { title: 'Pricing model finalized (per token/request)', owner: 'Sophia Chen', due: '-21d' },
                        { title: 'Competitive pricing analysis complete', owner: 'Sophia Chen', due: '-21d' },
                        { title: 'Pricing approved by leadership/finance', owner: 'Sophia Chen', due: '-14d' },
                        { title: 'Billing system updated with new SKU', owner: 'David Kim', due: '-10d' },
                        { title: 'Usage metering validated in staging', owner: 'David Kim', due: '-7d' },
                        { title: 'Free tier/credits allocation defined', owner: 'Sophia Chen', due: '-7d' },
                        { title: 'Enterprise pricing tiers documented', owner: 'Marcus Rodriguez', due: '-7d' },
                        { title: 'Pricing page copy finalized', owner: 'Emma Wilson', due: '-5d' },
                    ]},
                    { section: 'Beta Program & Migration', icon: 'üß™', items: [
                        { title: 'Beta program launched to select customers', owner: 'Lisa Park', due: '-28d' },
                        { title: 'Beta feedback collected and triaged', owner: 'Lisa Park', due: '-14d' },
                        { title: 'Critical beta feedback addressed', owner: 'David Kim', due: '-10d' },
                        { title: 'Beta users notified of GA timeline', owner: 'Lisa Park', due: '-7d' },
                        { title: 'Migration guide for beta‚ÜíGA prepared', owner: 'James Thompson', due: '-5d' },
                        { title: 'Beta users migrated to GA pricing', owner: 'Lisa Park', due: '+7d' },
                        { title: 'Beta endpoint deprecation scheduled', owner: 'David Kim', due: '+14d' },
                        { title: 'Beta users fully transitioned', owner: 'Lisa Park', due: '+30d' },
                    ]},
                    { section: 'Product & Positioning', icon: 'üì¶', items: [
                        { title: 'Product positioning finalized', owner: 'Sophia Chen', due: '-14d' },
                        { title: 'Key messaging and talking points approved', owner: 'Sophia Chen', due: '-10d' },
                        { title: 'Competitive differentiation documented', owner: 'Sophia Chen', due: '-10d' },
                        { title: 'Target customer segments defined', owner: 'Sophia Chen', due: '-10d' },
                        { title: 'Use cases and example prompts prepared', owner: 'Sophia Chen', due: '-7d' },
                        { title: 'Success metrics and KPIs defined', owner: 'Sophia Chen', due: '-7d' },
                        { title: 'Internal FAQ for all teams', owner: 'Sophia Chen', due: '-5d' },
                        { title: 'Executive briefing complete', owner: 'Sophia Chen', due: '-3d' },
                    ]},
                    { section: 'Documentation', icon: 'üìö', items: [
                        { title: 'API reference documentation updated', owner: 'James Thompson', due: '-10d' },
                        { title: 'Model card published to docs site', owner: 'James Thompson', due: '-7d' },
                        { title: 'Getting started guide created', owner: 'James Thompson', due: '-7d' },
                        { title: 'Migration guide (from previous models)', owner: 'James Thompson', due: '-7d' },
                        { title: 'Code examples and cookbooks ready', owner: 'James Thompson', due: '-5d' },
                        { title: 'Best practices guide published', owner: 'James Thompson', due: '-5d' },
                        { title: 'Troubleshooting guide prepared', owner: 'James Thompson', due: '-5d' },
                        { title: 'Changelog entry drafted', owner: 'James Thompson', due: '-3d' },
                        { title: 'Video tutorials recorded (if applicable)', owner: 'James Thompson', due: '-3d' },
                        { title: 'All docs reviewed and approved', owner: 'James Thompson', due: '-1d' },
                    ]},
                    { section: 'Marketing & Communications', icon: 'üì£', items: [
                        { title: 'Launch messaging approved', owner: 'Emma Wilson', due: '-14d' },
                        { title: 'Blog post drafted and reviewed', owner: 'Emma Wilson', due: '-7d' },
                        { title: 'Press release drafted', owner: 'Emma Wilson', due: '-7d' },
                        { title: 'Media briefing materials prepared', owner: 'Emma Wilson', due: '-5d' },
                        { title: 'Press/analyst briefings scheduled', owner: 'Emma Wilson', due: '-5d' },
                        { title: 'Social media campaign created', owner: 'Emma Wilson', due: '-5d' },
                        { title: 'Email campaign to customers drafted', owner: 'Emma Wilson', due: '-5d' },
                        { title: 'Email campaign to prospects drafted', owner: 'Emma Wilson', due: '-5d' },
                        { title: 'Landing page live (gated if pre-launch)', owner: 'Emma Wilson', due: '-3d' },
                        { title: 'Demo video/GIF created', owner: 'Emma Wilson', due: '-3d' },
                        { title: 'HN/Reddit launch posts prepared', owner: 'Emma Wilson', due: '-2d' },
                        { title: 'Influencer/developer outreach done', owner: 'Emma Wilson', due: '-2d' },
                        { title: 'All marketing assets approved', owner: 'Emma Wilson', due: '-1d' },
                        { title: 'Social posts scheduled', owner: 'Emma Wilson', due: '-1d' },
                        { title: 'Email campaigns scheduled', owner: 'Emma Wilson', due: '-1d' },
                    ]},
                    { section: 'Sales Enablement & GTM', icon: 'üíº', items: [
                        { title: 'Sales team trained on capabilities', owner: 'Marcus Rodriguez', due: '-10d' },
                        { title: 'Battle cards created/updated', owner: 'Marcus Rodriguez', due: '-7d' },
                        { title: 'Objection handling guide updated', owner: 'Marcus Rodriguez', due: '-7d' },
                        { title: 'Demo script and environment ready', owner: 'Marcus Rodriguez', due: '-5d' },
                        { title: 'Pricing calculator updated', owner: 'Marcus Rodriguez', due: '-5d' },
                        { title: 'Sales deck updated', owner: 'Marcus Rodriguez', due: '-5d' },
                        { title: 'ROI calculator/business case template', owner: 'Marcus Rodriguez', due: '-5d' },
                        { title: 'Enterprise customers pre-notified', owner: 'Marcus Rodriguez', due: '-5d' },
                        { title: 'Strategic accounts briefed 1:1', owner: 'Marcus Rodriguez', due: '-3d' },
                        { title: 'Partner sales teams briefed', owner: 'Marcus Rodriguez', due: '-3d' },
                        { title: 'CRM updated with new product', owner: 'Marcus Rodriguez', due: '-1d' },
                    ]},
                    { section: 'Customer Success & Support', icon: 'üéØ', items: [
                        { title: 'CS team trained on new model', owner: 'Lisa Park', due: '-10d' },
                        { title: 'Support runbooks created', owner: 'Lisa Park', due: '-7d' },
                        { title: 'Known issues document prepared', owner: 'Lisa Park', due: '-5d' },
                        { title: 'Escalation path defined', owner: 'Lisa Park', due: '-5d' },
                        { title: 'Support macros/templates updated', owner: 'Lisa Park', due: '-5d' },
                        { title: 'Intercom/Zendesk tags configured', owner: 'Lisa Park', due: '-3d' },
                        { title: 'Top customer outreach scheduled', owner: 'Lisa Park', due: '-3d' },
                        { title: 'On-call rotation for launch week', owner: 'Lisa Park', due: '-3d' },
                        { title: 'Customer webinar scheduled (post-launch)', owner: 'Lisa Park', due: '-1d' },
                        { title: 'Status page prepared (if issues)', owner: 'Lisa Park', due: '-1d' },
                    ]},
                    { section: 'Launch Day Execution', icon: 'üöÄ', items: [
                        { title: 'War room channel created', owner: 'Sophia Chen', due: '-1d' },
                        { title: 'Go/no-go meeting held', owner: 'Sophia Chen', due: '-1d' },
                        { title: 'All stakeholders confirmed ready', owner: 'Sophia Chen', due: '-1d' },
                        { title: 'Production deployment executed', owner: 'David Kim', due: '0d' },
                        { title: 'Smoke tests passed', owner: 'David Kim', due: '0d' },
                        { title: 'Blog post published', owner: 'Emma Wilson', due: '0d' },
                        { title: 'Social media posts live', owner: 'Emma Wilson', due: '0d' },
                        { title: 'Email campaigns sent', owner: 'Emma Wilson', due: '0d' },
                        { title: 'HN/Reddit posts submitted', owner: 'Emma Wilson', due: '0d' },
                        { title: 'Press release distributed', owner: 'Emma Wilson', due: '0d' },
                        { title: 'Monitoring dashboards reviewed', owner: 'David Kim', due: '0d' },
                        { title: 'Support team on standby', owner: 'Lisa Park', due: '0d' },
                    ]},
                    { section: 'Post-Launch', icon: 'üìä', items: [
                        { title: 'Day 1 metrics reviewed', owner: 'Sophia Chen', due: '+1d' },
                        { title: 'Initial feedback triaged', owner: 'Lisa Park', due: '+1d' },
                        { title: 'Critical issues addressed', owner: 'David Kim', due: '+1d' },
                        { title: 'Week 1 retro scheduled', owner: 'Sophia Chen', due: '+7d' },
                        { title: 'Launch success metrics reported', owner: 'Sophia Chen', due: '+7d' },
                        { title: 'Customer feedback summary shared', owner: 'Lisa Park', due: '+7d' },
                        { title: 'Beta deprecation communicated', owner: 'Lisa Park', due: '+14d' },
                    ]},
                ]
            },
            'api-change': {
                name: 'API Change',
                defaultTeams: ['engineering', 'docs', 'customer-success'],
                playbook: `
                    <strong>API Change Playbook</strong>
                    <ul>
                        <li><strong>Breaking change?</strong> Minimum 30-day deprecation notice</li>
                        <li><strong>Non-breaking:</strong> Can ship with changelog update</li>
                        <li><strong>Always:</strong> Update SDK libraries, test migration path</li>
                    </ul>
                    <br>
                    <strong>‚ö†Ô∏è Critical checks:</strong>
                    <ul>
                        <li>Identify all affected customers via API logs</li>
                        <li>Provide migration guide and timeline</li>
                        <li>Keep old endpoint available during transition</li>
                    </ul>
                `,
                checklist: [
                    { section: 'Engineering', icon: 'üõ†Ô∏è', items: [
                        { title: 'API change implemented and tested', owner: 'David Kim', due: '-7d' },
                        { title: 'Backwards compatibility verified', owner: 'David Kim', due: '-5d' },
                        { title: 'SDK libraries updated', owner: 'David Kim', due: '-3d' },
                        { title: 'Deprecation warnings added to old endpoints', owner: 'David Kim', due: '-3d' },
                    ]},
                    { section: 'Documentation', icon: 'üìö', items: [
                        { title: 'API reference updated', owner: 'James Thompson', due: '-3d' },
                        { title: 'Migration guide written', owner: 'James Thompson', due: '-3d' },
                        { title: 'Changelog entry added', owner: 'James Thompson', due: '-1d' },
                    ]},
                    { section: 'Customer Success', icon: 'üéØ', items: [
                        { title: 'Affected customers identified', owner: 'Lisa Park', due: '-7d' },
                        { title: 'Direct outreach to high-usage customers', owner: 'Lisa Park', due: '-5d' },
                        { title: 'Support team briefed on changes', owner: 'Lisa Park', due: '-3d' },
                    ]},
                ]
            },
            'bug-fix': {
                name: 'Critical Bug Fix',
                defaultTeams: ['engineering', 'customer-success'],
                playbook: `
                    <strong>Critical Bug Fix Playbook (Expedited)</strong>
                    <ul>
                        <li><strong>Severity check:</strong> P0 = immediate, P1 = within 24h</li>
                        <li><strong>Communication:</strong> Status page update, direct customer notification</li>
                        <li><strong>Post-fix:</strong> RCA document within 48 hours</li>
                    </ul>
                    <br>
                    <strong>üö® This is an expedited process - minimize checklist items</strong>
                `,
                checklist: [
                    { section: 'Engineering', icon: 'üõ†Ô∏è', items: [
                        { title: 'Fix implemented and tested', owner: 'David Kim', due: '0d' },
                        { title: 'Hotfix deployed to production', owner: 'David Kim', due: '0d' },
                        { title: 'Monitoring confirmed issue resolved', owner: 'David Kim', due: '0d' },
                    ]},
                    { section: 'Customer Success', icon: 'üéØ', items: [
                        { title: 'Status page updated', owner: 'Lisa Park', due: '0d' },
                        { title: 'Affected customers notified', owner: 'Lisa Park', due: '0d' },
                        { title: 'RCA document prepared', owner: 'Lisa Park', due: '+2d' },
                    ]},
                ]
            },
            'pricing-change': {
                name: 'Pricing Change',
                defaultTeams: ['product', 'sales', 'customer-success', 'legal', 'marketing'],
                playbook: `
                    <strong>Pricing Change Playbook</strong>
                    <ul>
                        <li><strong>Price increase:</strong> 60-day notice minimum, grandfather existing contracts</li>
                        <li><strong>Price decrease:</strong> Can be immediate, positive customer communication</li>
                        <li><strong>New tier:</strong> Full marketing treatment, sales enablement</li>
                    </ul>
                    <br>
                    <strong>‚ö†Ô∏è Legal requirements:</strong>
                    <ul>
                        <li>Review existing contract terms</li>
                        <li>Ensure compliance with enterprise agreements</li>
                    </ul>
                `,
                checklist: [
                    { section: 'Product', icon: 'üì¶', items: [
                        { title: 'Pricing model finalized', owner: 'Sophia Chen', due: '-14d' },
                        { title: 'Impact analysis on existing customers', owner: 'Sophia Chen', due: '-14d' },
                        { title: 'Executive approval obtained', owner: 'Sophia Chen', due: '-10d' },
                    ]},
                    { section: 'Legal', icon: '‚öñÔ∏è', items: [
                        { title: 'Contract impact reviewed', owner: 'Anna Bergstr√∂m', due: '-10d' },
                        { title: 'Terms of service updated', owner: 'Anna Bergstr√∂m', due: '-7d' },
                        { title: 'Grandfathering policy approved', owner: 'Anna Bergstr√∂m', due: '-7d' },
                    ]},
                    { section: 'Sales', icon: 'üíº', items: [
                        { title: 'Sales team trained on new pricing', owner: 'Marcus Rodriguez', due: '-7d' },
                        { title: 'Pricing calculator updated', owner: 'Marcus Rodriguez', due: '-5d' },
                        { title: 'Enterprise customer conversations', owner: 'Marcus Rodriguez', due: '-7d' },
                    ]},
                    { section: 'Customer Success', icon: 'üéØ', items: [
                        { title: 'Customer communication drafted', owner: 'Lisa Park', due: '-7d' },
                        { title: 'FAQ document prepared', owner: 'Lisa Park', due: '-5d' },
                        { title: 'Support team briefed', owner: 'Lisa Park', due: '-3d' },
                    ]},
                    { section: 'Marketing', icon: 'üì£', items: [
                        { title: 'Pricing page updated', owner: 'Emma Wilson', due: '-1d' },
                        { title: 'Customer email sent', owner: 'Emma Wilson', due: '0d' },
                    ]},
                ]
            },
            'partnership': {
                name: 'Partnership',
                defaultTeams: ['product', 'engineering', 'marketing', 'legal', 'sales'],
                playbook: `
                    <strong>Partnership Launch Playbook</strong>
                    <ul>
                        <li><strong>Coordination:</strong> Align on joint messaging with partner</li>
                        <li><strong>Technical:</strong> Integration tested, documentation ready</li>
                        <li><strong>Legal:</strong> Partnership agreement signed, press release approved</li>
                    </ul>
                    <br>
                    <strong>ü§ù Partner coordination checklist:</strong>
                    <ul>
                        <li>Agree on launch date and time (timezone!)</li>
                        <li>Review each other's announcements</li>
                        <li>Coordinate social media timing</li>
                    </ul>
                `,
                checklist: [
                    { section: 'Legal', icon: '‚öñÔ∏è', items: [
                        { title: 'Partnership agreement signed', owner: 'Anna Bergstr√∂m', due: '-14d' },
                        { title: 'Joint press release approved', owner: 'Anna Bergstr√∂m', due: '-5d' },
                    ]},
                    { section: 'Engineering', icon: 'üõ†Ô∏è', items: [
                        { title: 'Integration implemented', owner: 'David Kim', due: '-7d' },
                        { title: 'Partner API testing complete', owner: 'David Kim', due: '-5d' },
                        { title: 'Production deployment ready', owner: 'David Kim', due: '-2d' },
                    ]},
                    { section: 'Product', icon: 'üì¶', items: [
                        { title: 'Joint value prop defined', owner: 'Sophia Chen', due: '-10d' },
                        { title: 'Customer use cases documented', owner: 'Sophia Chen', due: '-7d' },
                    ]},
                    { section: 'Marketing', icon: 'üì£', items: [
                        { title: 'Blog post coordinated with partner', owner: 'Emma Wilson', due: '-5d' },
                        { title: 'Social media aligned', owner: 'Emma Wilson', due: '-2d' },
                        { title: 'Landing page live', owner: 'Emma Wilson', due: '-1d' },
                    ]},
                    { section: 'Sales', icon: 'üíº', items: [
                        { title: 'Sales team trained on partnership', owner: 'Marcus Rodriguez', due: '-5d' },
                        { title: 'Joint selling motions defined', owner: 'Marcus Rodriguez', due: '-5d' },
                    ]},
                ]
            }
        };

        // Functions
        function selectLaunchType(type) {
            selectedLaunchType = type;

            // Update UI
            document.querySelectorAll('.launch-type').forEach(el => {
                el.classList.remove('selected');
            });
            event.currentTarget.classList.add('selected');

            // Auto-select default teams
            const config = launchConfigs[type];
            selectedTeams = [...config.defaultTeams];

            // Move to step 2
            setTimeout(() => goToStep(2), 300);
        }

        function goToStep(step) {
            document.querySelectorAll('.card, #step4').forEach(el => {
                el.classList.add('hidden');
            });

            if (step === 4) {
                document.getElementById('step4').classList.remove('hidden');
            } else {
                document.getElementById('step' + step).classList.remove('hidden');
            }

            // Pre-select teams in step 3
            if (step === 3) {
                updateTeamSelection();
            }
        }

        function backToOverview() {
            // Hide step 4 and the sticky progress bar
            document.getElementById('step4').classList.add('hidden');
            document.getElementById('stickyProgress').classList.remove('visible');
            document.body.style.paddingTop = '0';

            // Show step 1 (launch type selection)
            document.getElementById('step1').classList.remove('hidden');

            // Reset selection state
            document.querySelectorAll('.launch-type').forEach(el => {
                el.classList.remove('selected');
            });
            selectedLaunchType = null;
            selectedTeams = [];
            selectedPeople = [];

            // Scroll to top
            window.scrollTo({ top: 0, behavior: 'smooth' });
        }

        function updateTeamSelection() {
            document.querySelectorAll('.team-tag').forEach(el => {
                const team = el.dataset.team;
                if (selectedTeams.includes(team)) {
                    el.classList.add('selected');
                } else {
                    el.classList.remove('selected');
                }
            });
        }

        function toggleTeam(element) {
            const team = element.dataset.team;
            if (selectedTeams.includes(team)) {
                selectedTeams = selectedTeams.filter(t => t !== team);
                element.classList.remove('selected');
            } else {
                selectedTeams.push(team);
                element.classList.add('selected');
            }
        }

        function togglePerson(element) {
            const person = element.dataset.person;
            if (selectedPeople.includes(person)) {
                selectedPeople = selectedPeople.filter(p => p !== person);
                element.classList.remove('selected');
            } else {
                selectedPeople.push(person);
                element.classList.add('selected');
            }
        }

        function generateChecklist() {
            const config = launchConfigs[selectedLaunchType];
            const launchName = document.getElementById('launchName').value || config.name + ' Launch';
            const launchDate = document.getElementById('launchDate').value || new Date().toISOString().split('T')[0];

            // Update display
            document.getElementById('launchNameDisplay').textContent = launchName;
            document.getElementById('launchDateDisplay').textContent = new Date(launchDate).toLocaleDateString('en-US', { month: 'short', day: 'numeric', year: 'numeric' });

            // Update sticky progress bar title
            document.getElementById('stickyTitle').textContent = launchName;

            // Set playbook
            document.getElementById('playbookContent').innerHTML = config.playbook;
            document.querySelector('.playbook-title').textContent = 'üìã Playbook for ' + config.name;

            // Generate all sections
            generateNotifications();
            generateTimeline(launchDate);
            generateMeetings(launchDate);
            generateTeamPlaybooks();
            generateChecklistItems(config.checklist, launchDate);

            // Show step 4 and sticky progress bar
            goToStep(4);
            document.getElementById('stickyProgress').classList.add('visible');
            document.body.style.paddingTop = '60px'; // Make room for sticky bar
        }

        // Generate minimal required meetings
        function generateMeetings(launchDate) {
            const container = document.getElementById('meetingsList');
            const launch = new Date(launchDate);

            // Only essential meetings - no fluff
            const meetings = {
                'major-feature': [
                    { days: -21, name: 'Launch Kickoff', attendees: 'All leads', duration: '30m', purpose: 'Align on timeline, assign DRIs' },
                    { days: -7, name: 'Go/No-Go Review', attendees: 'Eng, Product, Legal', duration: '30m', purpose: 'Final blockers check' },
                    { days: -1, name: 'Launch Sync', attendees: 'All leads', duration: '15m', purpose: 'Confirm ready, war room setup' },
                    { days: 7, name: 'Launch Retro', attendees: 'All leads', duration: '45m', purpose: 'Metrics review, learnings' },
                ],
                'model-release': [
                    { days: -28, name: 'Launch Kickoff', attendees: 'ML, Eng, Product, Legal', duration: '45m', purpose: 'Scope, timeline, compliance needs' },
                    { days: -14, name: 'Readiness Check', attendees: 'Eng, Product, Marketing', duration: '30m', purpose: 'Beta feedback, docs, GTM status' },
                    { days: -7, name: 'Go/No-Go', attendees: 'All leads + Legal', duration: '30m', purpose: 'Final sign-offs, blockers' },
                    { days: -1, name: 'Launch Sync', attendees: 'All leads', duration: '15m', purpose: 'Confirm ready, comms timing' },
                    { days: 7, name: 'Week 1 Review', attendees: 'All leads', duration: '30m', purpose: 'Metrics, feedback, issues' },
                ],
                'api-change': [
                    { days: -14, name: 'Impact Review', attendees: 'Eng, CS, Docs', duration: '30m', purpose: 'Affected customers, migration plan' },
                    { days: -3, name: 'Go/No-Go', attendees: 'Eng, CS', duration: '15m', purpose: 'Customer outreach complete?' },
                ],
                'bug-fix': [
                    { days: 0, name: 'War Room', attendees: 'Eng on-call', duration: 'As needed', purpose: 'Fix and deploy' },
                ],
                'pricing-change': [
                    { days: -21, name: 'Pricing Review', attendees: 'Product, Sales, Legal, Finance', duration: '45m', purpose: 'Model approval, contract impact' },
                    { days: -7, name: 'Comms Review', attendees: 'Marketing, CS, Legal', duration: '30m', purpose: 'Customer messaging approval' },
                    { days: -1, name: 'Go Live Sync', attendees: 'Eng, Marketing', duration: '15m', purpose: 'Billing system, pricing page' },
                ],
                'partnership': [
                    { days: -14, name: 'Partner Sync', attendees: 'Product, Eng, Partner team', duration: '30m', purpose: 'Joint timeline, messaging' },
                    { days: -3, name: 'Launch Alignment', attendees: 'Marketing, Partner marketing', duration: '30m', purpose: 'Coordinated announcements' },
                ],
            };

            const launchMeetings = meetings[selectedLaunchType] || meetings['major-feature'];

            let html = '<div style="display: flex; flex-direction: column; gap: 0.75rem;">';
            launchMeetings.forEach(m => {
                const meetingDate = new Date(launch);
                meetingDate.setDate(meetingDate.getDate() + m.days);
                const dateStr = meetingDate.toLocaleDateString('en-US', { weekday: 'short', month: 'short', day: 'numeric' });
                const isPast = meetingDate < new Date();
                const isToday = meetingDate.toDateString() === new Date().toDateString();

                html += `
                    <div style="display: flex; gap: 0.75rem; padding: 0.75rem; background: ${isToday ? '#fef3c7' : isPast ? '#f3f4f6' : '#fff'}; border: 1px solid ${isToday ? '#fde047' : '#e5e7eb'}; border-radius: 8px; ${isPast ? 'opacity: 0.6;' : ''}">
                        <div style="min-width: 80px;">
                            <div style="font-weight: 600; font-size: 0.75rem; color: ${isToday ? '#92400e' : '#6b7280'};">${dateStr}</div>
                            <div style="font-size: 0.75rem; color: #9ca3af;">${m.duration}</div>
                        </div>
                        <div style="flex: 1;">
                            <div style="font-weight: 600; font-size: 0.875rem;">${m.name}</div>
                            <div style="font-size: 0.75rem; color: #6b7280;">${m.attendees}</div>
                            <div style="font-size: 0.75rem; color: #9ca3af; font-style: italic;">${m.purpose}</div>
                        </div>
                        <div>
                            ${isPast ? '<span style="color: #22c55e;">‚úì</span>' : '<button onclick="addToCalendar()" style="background: none; border: 1px solid #e5e7eb; border-radius: 4px; padding: 0.25rem 0.5rem; font-size: 0.75rem; cursor: pointer;">üìÖ Add</button>'}
                        </div>
                    </div>
                `;
            });
            html += '</div>';
            container.innerHTML = html;
        }

        // Generate team-specific playbook links
        function generateTeamPlaybooks() {
            const container = document.getElementById('teamPlaybooks');

            const playbooks = {
                'engineering': { icon: 'üõ†Ô∏è', name: 'Engineering', items: ['Staged rollout (1%‚Üí10%‚Üí50%‚Üí100%)', 'Rollback procedure', 'On-call rotation', 'Monitoring checklist', 'Load test results'] },
                'ml-research': { icon: 'üß™', name: 'ML Research', items: ['Model card template', 'Benchmark reporting', 'Safety eval checklist', 'Technical blog template'] },
                'product': { icon: 'üì¶', name: 'Product', items: ['Launch tier criteria', 'Success metrics template', 'Internal FAQ template', 'Demo script'] },
                'marketing': { icon: 'üì£', name: 'Marketing', items: ['Blog post template', 'Social media calendar', 'Email templates', 'Press release template', 'Asset checklist'] },
                'sales': { icon: 'üíº', name: 'Sales', items: ['Battle card template', 'Objection handling', 'Demo environment setup', 'Pricing guidance'] },
                'customer-success': { icon: 'üéØ', name: 'Customer Success', items: ['Support runbook template', 'Customer notification templates', 'Escalation matrix', 'Known issues tracker'] },
                'docs': { icon: 'üìö', name: 'Documentation', items: ['Doc review checklist', 'API reference template', 'Tutorial template', 'Changelog format'] },
                'legal': { icon: '‚öñÔ∏è', name: 'Legal', items: ['Compliance checklist', 'License review', 'TOS update process', 'Data privacy assessment'] },
                'security': { icon: 'üîí', name: 'Security', items: ['Security review checklist', 'Pen test requirements', 'Incident response plan'] },
            };

            let html = '';
            selectedTeams.forEach(team => {
                const pb = playbooks[team];
                if (pb) {
                    html += `
                        <div style="border: 1px solid #e5e7eb; border-radius: 8px; padding: 0.75rem;">
                            <div style="display: flex; align-items: center; gap: 0.5rem; margin-bottom: 0.5rem;">
                                <span>${pb.icon}</span>
                                <span style="font-weight: 600; font-size: 0.875rem;">${pb.name} Playbook</span>
                            </div>
                            <div style="font-size: 0.75rem; color: #6b7280;">
                                ${pb.items.slice(0, 3).join(' ‚Ä¢ ')}
                            </div>
                            <button onclick="viewPlaybook('${team}')" style="margin-top: 0.5rem; background: none; border: 1px solid #e5e7eb; border-radius: 4px; padding: 0.25rem 0.5rem; font-size: 0.75rem; cursor: pointer; color: #f2613f;">View Full Playbook ‚Üí</button>
                        </div>
                    `;
                }
            });

            if (html === '') {
                html = '<div style="color: #6b7280; font-size: 0.875rem;">Select teams to see their playbooks</div>';
            }

            container.innerHTML = html;
        }

        function viewPlaybook(team) {
            alert(`Opening ${team} playbook... (This would open a detailed playbook document)`);
        }

        function addToCalendar() {
            alert('Adding to Google Calendar... (This would create a calendar invite)');
        }

        function scheduleMeetings() {
            alert('Scheduling all meetings in Google Calendar with attendees from Slack...');
        }

        function generateNotifications() {
            const container = document.getElementById('notificationsList');
            let html = '';

            selectedTeams.forEach(team => {
                const teamName = team.replace('-', ' ').replace(/\b\w/g, l => l.toUpperCase());
                html += `
                    <div class="notification-item">
                        <span class="notification-channel">Slack</span>
                        <span>#${team} channel notified</span>
                    </div>
                `;
            });

            selectedPeople.forEach(person => {
                const personCard = document.querySelector(`[data-person="${person}"]`);
                const name = personCard.querySelector('.person-name').textContent;
                html += `
                    <div class="notification-item">
                        <span class="notification-channel">DM</span>
                        <span>${name} will be pinged</span>
                    </div>
                `;
            });

            if (selectedTeams.length === 0 && selectedPeople.length === 0) {
                html = '<div class="notification-item">No notifications configured</div>';
            }

            container.innerHTML = html;
        }

        function generateTimeline(launchDate) {
            const container = document.getElementById('timeline');
            const launch = new Date(launchDate);

            const milestones = [
                { days: -14, title: 'Planning Complete', desc: 'All teams aligned, checklist created' },
                { days: -7, title: 'Ready for Review', desc: 'Core work complete, begin final checks' },
                { days: -3, title: 'Go/No-Go Decision', desc: 'Final approval from stakeholders' },
                { days: 0, title: 'Launch Day', desc: 'Execute launch plan' },
            ];

            let html = '';
            milestones.forEach((m, i) => {
                const date = new Date(launch);
                date.setDate(date.getDate() + m.days);
                html += `
                    <div class="timeline-item">
                        <div class="timeline-dot">${i + 1}</div>
                        <div class="timeline-content">
                            <div class="timeline-title">${m.title}</div>
                            <div class="timeline-desc">${date.toLocaleDateString('en-US', { month: 'short', day: 'numeric' })} - ${m.desc}</div>
                        </div>
                    </div>
                `;
            });

            container.innerHTML = html;
        }

        // Playbook documents for each section
        const sectionPlaybooks = {
            'Pre-Launch Planning': {
                docs: [
                    { name: 'Launch Tier Criteria', desc: 'How to determine Tier 1/2/3', icon: 'üìã' },
                    { name: 'DRI Responsibilities', desc: 'What the launch DRI owns', icon: 'üë§' },
                    { name: 'Risk Assessment Template', desc: 'Identify and mitigate risks', icon: '‚ö†Ô∏è' },
                ]
            },
            'Engineering & QA': {
                docs: [
                    { name: 'Staged Rollout Playbook', desc: '1% ‚Üí 10% ‚Üí 50% ‚Üí 100% process', icon: 'üöÄ' },
                    { name: 'Rollback Procedure', desc: 'How to safely rollback', icon: '‚Ü©Ô∏è' },
                    { name: 'Load Testing Guide', desc: 'Performance validation checklist', icon: 'üìä' },
                    { name: 'On-Call Rotation Setup', desc: 'Launch week coverage', icon: 'üìû' },
                ]
            },
            'ML Research & Science': {
                docs: [
                    { name: 'Model Card Template', desc: 'Capabilities, limitations, safety', icon: 'üìÑ' },
                    { name: 'Benchmark Reporting Guide', desc: 'How to present evals', icon: 'üìà' },
                    { name: 'Safety Evaluation Checklist', desc: 'Red team, bias, fairness', icon: 'üõ°Ô∏è' },
                    { name: 'Technical Blog Template', desc: 'Structure for model announcements', icon: '‚úçÔ∏è' },
                ]
            },
            'Legal & Compliance': {
                docs: [
                    { name: 'EU AI Act Compliance Guide', desc: 'Requirements by risk level', icon: 'üá™üá∫' },
                    { name: 'License Selection Matrix', desc: 'Apache vs Commercial vs Custom', icon: 'üìú' },
                    { name: 'Data Privacy Assessment', desc: 'GDPR/CCPA checklist', icon: 'üîê' },
                    { name: 'Export Control Review', desc: 'ITAR/EAR requirements', icon: 'üåç' },
                    { name: 'IP Review Process', desc: 'Training data legal review', icon: '‚öñÔ∏è' },
                ]
            },
            'Security': {
                docs: [
                    { name: 'Security Review Checklist', desc: 'Pre-launch security gates', icon: 'üîí' },
                    { name: 'Pen Test Requirements', desc: 'Scope and process', icon: 'üéØ' },
                    { name: 'Incident Response Plan', desc: 'What to do if issues arise', icon: 'üö®' },
                    { name: 'Jailbreak Mitigation Guide', desc: 'Prompt injection defenses', icon: 'üõ°Ô∏è' },
                ]
            },
            'Security & Compliance': {
                docs: [
                    { name: 'Security Review Checklist', desc: 'Pre-launch security gates', icon: 'üîí' },
                    { name: 'SOC 2 Controls Documentation', desc: 'Compliance evidence', icon: 'üìã' },
                    { name: 'Data Privacy Assessment', desc: 'GDPR/CCPA checklist', icon: 'üîê' },
                ]
            },
            'Pricing & Billing': {
                docs: [
                    { name: 'Pricing Strategy Framework', desc: 'How to determine pricing', icon: 'üí∞' },
                    { name: 'Competitive Pricing Analysis', desc: 'Market comparison template', icon: 'üìä' },
                    { name: 'Billing Integration Guide', desc: 'Adding new SKUs to system', icon: 'üí≥' },
                    { name: 'Enterprise Pricing Tiers', desc: 'Volume discount structure', icon: 'üè¢' },
                ]
            },
            'Beta Program & Migration': {
                docs: [
                    { name: 'Beta Program Setup', desc: 'How to run effective betas', icon: 'üß™' },
                    { name: 'Beta Feedback Collection', desc: 'Survey and interview templates', icon: 'üìù' },
                    { name: 'Beta ‚Üí GA Migration Guide', desc: 'Transition customers smoothly', icon: 'üîÑ' },
                    { name: 'Deprecation Communication', desc: 'How to sunset old versions', icon: 'üì¢' },
                ]
            },
            'Beta Program': {
                docs: [
                    { name: 'Beta Program Setup', desc: 'How to run effective betas', icon: 'üß™' },
                    { name: 'Beta Feedback Collection', desc: 'Survey and interview templates', icon: 'üìù' },
                    { name: 'Beta ‚Üí GA Migration Guide', desc: 'Transition customers smoothly', icon: 'üîÑ' },
                ]
            },
            'Product & Design': {
                docs: [
                    { name: 'PRD Template', desc: 'Product requirements doc format', icon: 'üìÑ' },
                    { name: 'Design Handoff Process', desc: 'Figma ‚Üí Engineering workflow', icon: 'üé®' },
                    { name: 'UX Copy Guidelines', desc: 'Voice and tone for UI', icon: '‚úçÔ∏è' },
                    { name: 'Competitive Analysis Template', desc: 'How to analyze competitors', icon: 'üîç' },
                ]
            },
            'Product & Positioning': {
                docs: [
                    { name: 'Positioning Framework', desc: 'Message house structure', icon: 'üéØ' },
                    { name: 'Competitive Differentiation', desc: 'How to stand out', icon: 'üíé' },
                    { name: 'Use Case Development', desc: 'Customer story templates', icon: 'üìñ' },
                ]
            },
            'Documentation': {
                docs: [
                    { name: 'Doc Style Guide', desc: 'Writing standards', icon: 'üìö' },
                    { name: 'API Reference Template', desc: 'Endpoint documentation format', icon: 'üîå' },
                    { name: 'Tutorial Structure', desc: 'How to write effective tutorials', icon: 'üìù' },
                    { name: 'Video Recording Guide', desc: 'Walkthrough best practices', icon: 'üé•' },
                    { name: 'Changelog Format', desc: 'How to write release notes', icon: 'üìã' },
                ]
            },
            'Marketing & Communications': {
                docs: [
                    { name: 'Messaging Framework', desc: 'Core value props and proof points', icon: 'üí¨' },
                    { name: 'Blog Post Template', desc: 'Launch announcement structure', icon: '‚úçÔ∏è' },
                    { name: 'Press Release Template', desc: 'Media announcement format', icon: 'üì∞' },
                    { name: 'Social Media Playbook', desc: 'Platform-specific guidelines', icon: 'üì±' },
                    { name: 'Email Campaign Templates', desc: 'Customer and prospect emails', icon: 'üìß' },
                    { name: 'Influencer Outreach Guide', desc: 'Developer relations process', icon: 'ü§ù' },
                ]
            },
            'Sales Enablement': {
                docs: [
                    { name: 'Battle Card Template', desc: 'Competitive positioning', icon: '‚öîÔ∏è' },
                    { name: 'Objection Handling Guide', desc: 'Common objections and responses', icon: 'üõ°Ô∏è' },
                    { name: 'Demo Script Template', desc: 'How to demo effectively', icon: 'üé¨' },
                    { name: 'Pricing Guidance Doc', desc: 'Discount authority and rules', icon: 'üí∞' },
                    { name: 'ROI Calculator Guide', desc: 'Building business cases', icon: 'üìä' },
                ]
            },
            'Sales Enablement & GTM': {
                docs: [
                    { name: 'Battle Card Template', desc: 'Competitive positioning', icon: '‚öîÔ∏è' },
                    { name: 'Sales Training Deck', desc: 'Feature overview for sales', icon: 'üìä' },
                    { name: 'Demo Environment Setup', desc: 'How to configure demos', icon: 'üíª' },
                    { name: 'Enterprise Selling Motion', desc: 'Strategic account approach', icon: 'üè¢' },
                ]
            },
            'Customer Success & Support': {
                docs: [
                    { name: 'Support Runbook Template', desc: 'Issue diagnosis and resolution', icon: 'üìã' },
                    { name: 'Escalation Matrix', desc: 'When and how to escalate', icon: 'üìà' },
                    { name: 'Customer Notification Templates', desc: 'Email templates for outreach', icon: 'üìß' },
                    { name: 'Known Issues Tracker', desc: 'How to document and track', icon: 'üêõ' },
                    { name: 'Webinar Planning Guide', desc: 'Customer education events', icon: 'üéì' },
                ]
            },
            'Launch Day Execution': {
                docs: [
                    { name: 'War Room Setup', desc: 'Slack channel and coordination', icon: 'üéØ' },
                    { name: 'Go/No-Go Checklist', desc: 'Final launch gates', icon: '‚úÖ' },
                    { name: 'Launch Day Runbook', desc: 'Hour-by-hour execution plan', icon: '‚è∞' },
                    { name: 'Monitoring Dashboard Guide', desc: 'What metrics to watch', icon: 'üìä' },
                ]
            },
            'Post-Launch': {
                docs: [
                    { name: 'Metrics Dashboard Setup', desc: 'Key metrics to track', icon: 'üìà' },
                    { name: 'Launch Retro Template', desc: 'How to run effective retros', icon: 'üîÑ' },
                    { name: 'Feedback Triage Process', desc: 'Prioritizing post-launch feedback', icon: 'üìù' },
                    { name: 'Iteration Planning', desc: 'v1.1 planning framework', icon: 'üîß' },
                ]
            },
            'Engineering & Infrastructure': {
                docs: [
                    { name: 'Deployment Playbook', desc: 'Production release process', icon: 'üöÄ' },
                    { name: 'Load Testing Guide', desc: 'Performance validation', icon: 'üìä' },
                    { name: 'Monitoring Setup', desc: 'Dashboards and alerts', icon: 'üìâ' },
                    { name: 'Rollback Procedure', desc: 'How to safely revert', icon: '‚Ü©Ô∏è' },
                ]
            },
        };

        function generateChecklistItems(sections, launchDate) {
            const container = document.getElementById('checklistContainer');
            const launch = new Date(launchDate);
            checklistItems = [];

            const priorityLabels = {
                critical: { label: 'Critical', class: 'priority-critical', icon: 'üî¥' },
                required: { label: 'Required', class: 'priority-required', icon: 'üü†' },
                recommended: { label: 'Recommended', class: 'priority-recommended', icon: 'üîµ' },
                optional: { label: 'Optional', class: 'priority-optional', icon: '‚ö™' }
            };

            let html = '';
            sections.forEach(section => {
                const sectionTotal = section.items.length;
                const playbooks = sectionPlaybooks[section.section] || { docs: [] };
                const sectionTeam = section.team || 'Product';

                // Count by priority
                const criticalCount = section.items.filter(i => i.priority === 'critical').length;
                const requiredCount = section.items.filter(i => i.priority === 'required').length;
                const recommendedCount = section.items.filter(i => i.priority === 'recommended').length;
                const optionalCount = section.items.filter(i => i.priority === 'optional').length;

                html += `
                    <div class="checklist-section">
                        <div class="checklist-header" style="flex-wrap: wrap;">
                            <span class="checklist-header-icon">${section.icon}</span>
                            <span class="checklist-header-title">${section.section}</span>
                            <span class="team-badge">${sectionTeam}</span>
                            <span class="checklist-header-badge" data-section="${section.section}">0/${sectionTotal}</span>
                            <div style="display: flex; gap: 0.25rem; margin-left: 0.5rem; font-size: 0.6875rem;">
                                ${criticalCount > 0 ? `<span style="color: #dc2626;">${criticalCount}üî¥</span>` : ''}
                                ${requiredCount > 0 ? `<span style="color: #d97706;">${requiredCount}üü†</span>` : ''}
                                ${recommendedCount > 0 ? `<span style="color: #2563eb;">${recommendedCount}üîµ</span>` : ''}
                                ${optionalCount > 0 ? `<span style="color: #6b7280;">${optionalCount}‚ö™</span>` : ''}
                            </div>
                            ${playbooks.docs.length > 0 ? `<button onclick="togglePlaybooks('${section.section.replace(/'/g, "\\'")}')" style="margin-left: auto; background: none; border: 1px solid #e5e7eb; border-radius: 4px; padding: 0.25rem 0.5rem; font-size: 0.75rem; cursor: pointer; color: #6b7280;">üìö Playbooks (${playbooks.docs.length})</button>` : ''}
                        </div>
                        <div class="playbooks-panel" id="playbooks-${section.section.replace(/[^a-zA-Z0-9]/g, '-')}" style="display: none; padding: 1rem; background: #f9fafb; border: 1px solid #e5e7eb; border-top: none; margin-top: -1px;">
                            <div style="font-size: 0.75rem; color: #6b7280; margin-bottom: 0.75rem; font-weight: 600;">üìö ${section.section} Playbooks & Templates</div>
                            <div style="display: grid; grid-template-columns: repeat(auto-fill, minmax(200px, 1fr)); gap: 0.5rem;">
                                ${playbooks.docs.map(doc => `
                                    <a href="#" onclick="openPlaybook('${doc.name}')" style="display: flex; align-items: start; gap: 0.5rem; padding: 0.5rem; background: white; border: 1px solid #e5e7eb; border-radius: 6px; text-decoration: none; color: inherit; transition: all 0.2s;">
                                        <span style="font-size: 1rem;">${doc.icon}</span>
                                        <div style="flex: 1; min-width: 0;">
                                            <div style="font-size: 0.8125rem; font-weight: 500; color: #111827;">${doc.name}</div>
                                            <div style="font-size: 0.6875rem; color: #6b7280;">${doc.desc}</div>
                                        </div>
                                    </a>
                                `).join('')}
                            </div>
                        </div>
                        <div class="checklist-items">
                `;

                section.items.forEach((item, idx) => {
                    // Sanitize section name for use in IDs (remove spaces and special chars)
                    const sanitizedSection = section.section.replace(/[^a-zA-Z0-9]/g, '_');
                    const itemId = sanitizedSection + '-' + idx;
                    const priority = item.priority || 'required';
                    const priorityInfo = priorityLabels[priority];
                    checklistItems.push({ id: itemId, checked: false, skipped: false, priority: priority, section: section.section });

                    // Calculate due date
                    const dueDate = new Date(launch);
                    const daysOffset = parseInt(item.due.replace('d', ''));
                    dueDate.setDate(dueDate.getDate() + daysOffset);

                    const isOverdue = dueDate < new Date() && item.due !== '0d';
                    const dueDateStr = dueDate.toLocaleDateString('en-US', { month: 'short', day: 'numeric' });

                    html += `
                        <div class="checklist-item" id="item-${itemId}" data-priority="${priority}">
                            <div class="checklist-checkbox" onclick="toggleCheckbox('${itemId}')"></div>
                            <div class="checklist-content">
                                <div class="checklist-title">
                                    ${item.title}
                                    <span class="priority-badge ${priorityInfo.class}">${priorityInfo.icon} ${priorityInfo.label}</span>
                                    <span id="skipped-badge-${itemId}" class="skipped-badge" style="display: none;">Not doing</span>
                                </div>
                                <div class="checklist-meta">
                                    <span class="checklist-owner">üë§ ${item.owner}</span>
                                    <span class="checklist-due ${isOverdue ? 'overdue' : ''}">üìÖ ${dueDateStr}${isOverdue ? ' (overdue)' : ''}</span>
                                    <span class="team-badge">${sectionTeam}</span>
                                    ${item.playbook ? `<a href="#" onclick="openPlaybook('${item.playbook}')" class="item-playbook">üìö ${item.playbook}</a>` : ''}
                                </div>
                            </div>
                            <div class="checklist-actions" style="display: flex; gap: 0.5rem; align-items: center;">
                                ${(priority === 'optional' || priority === 'recommended') ? `<button class="skip-btn" id="skip-btn-${itemId}" onclick="toggleSkip('${itemId}')">Skip</button>` : ''}
                            </div>
                        </div>
                    `;
                });

                html += `
                        </div>
                    </div>
                `;
            });

            container.innerHTML = html;
            updateProgressBreakdown();
        }

        function toggleSkip(itemId) {
            const item = checklistItems.find(i => i.id === itemId);
            item.skipped = !item.skipped;

            const itemEl = document.getElementById(`item-${itemId}`);
            const skipBtn = document.getElementById(`skip-btn-${itemId}`);
            const skippedBadge = document.getElementById(`skipped-badge-${itemId}`);

            if (item.skipped) {
                itemEl.classList.add('skipped');
                skipBtn.textContent = 'Undo';
                skippedBadge.style.display = 'inline-flex';
                // Also uncheck if it was checked
                if (item.checked) {
                    item.checked = false;
                    const checkbox = document.querySelector(`#item-${itemId} .checklist-checkbox`);
                    checkbox.classList.remove('checked');
                }
            } else {
                itemEl.classList.remove('skipped');
                skipBtn.textContent = 'Skip';
                skippedBadge.style.display = 'none';
            }

            updateProgress();
            updateProgressBreakdown();
        }

        function updateProgressBreakdown() {
            const priorities = ['critical', 'required', 'recommended', 'optional'];
            const counts = {};

            priorities.forEach(p => {
                const items = checklistItems.filter(i => i.priority === p);
                const completed = items.filter(i => i.checked).length;
                const skipped = items.filter(i => i.skipped).length;
                const total = items.length;
                counts[p] = { completed, skipped, total, active: total - skipped };
            });

            document.getElementById('criticalProgress').textContent = `${counts.critical.completed}/${counts.critical.total}`;
            document.getElementById('requiredProgress').textContent = `${counts.required.completed}/${counts.required.total}`;
            document.getElementById('recommendedProgress').textContent = `${counts.recommended.completed}/${counts.recommended.active}`;
            document.getElementById('optionalProgress').textContent = `${counts.optional.completed}/${counts.optional.active}`;

            // Check if all critical items are done - required for launch
            const allCriticalDone = counts.critical.completed === counts.critical.total;
            const criticalEl = document.getElementById('criticalProgress').parentElement;
            if (allCriticalDone && counts.critical.total > 0) {
                criticalEl.style.color = '#166534';
            } else if (counts.critical.completed < counts.critical.total) {
                criticalEl.style.color = '#dc2626';
            }
        }

        function togglePlaybooks(sectionName) {
            const panelId = 'playbooks-' + sectionName.replace(/[^a-zA-Z0-9]/g, '-');
            const panel = document.getElementById(panelId);
            if (panel) {
                panel.style.display = panel.style.display === 'none' ? 'block' : 'none';
            }
        }

        function openPlaybook(playbookName) {
            event.preventDefault();

            // Playbook content summaries
            const playbookSummaries = {
                'Launch Tier Criteria': 'Tier 1: Revenue impact >$1M, competitive differentiator, full marketing push\\nTier 2: Significant customer value, moderate marketing\\nTier 3: Incremental improvement, changelog + email only',
                'Pricing Strategy Framework': '1. Analyze competitor pricing\\n2. Calculate unit economics\\n3. Test price sensitivity\\n4. Define tier structure\\n5. Get finance approval',
                'EU AI Act Compliance Guide': 'Risk classification:\\n‚Ä¢ Minimal risk: No requirements\\n‚Ä¢ Limited risk: Transparency obligations\\n‚Ä¢ High risk: Full compliance (registration, documentation, human oversight)',
                'Staged Rollout Playbook': 'Phase 1: 1% of traffic (internal + beta)\\nPhase 2: 10% (expand monitoring)\\nPhase 3: 50% (validate at scale)\\nPhase 4: 100% (full GA)',
                'Battle Card Template': 'Sections:\\n‚Ä¢ Product positioning\\n‚Ä¢ Key differentiators\\n‚Ä¢ Competitor weaknesses\\n‚Ä¢ Objection handling\\n‚Ä¢ Proof points & case studies',
            };

            const summary = playbookSummaries[playbookName] || 'Detailed playbook document with step-by-step guidance.';

            alert('üìö ' + playbookName + '\\n\\n' + summary + '\\n\\n[This would open the full Notion document]');
        }

        function toggleCheckbox(itemId) {
            const item = checklistItems.find(i => i.id === itemId);

            // Don't allow checking skipped items
            if (item.skipped) {
                return;
            }

            item.checked = !item.checked;

            const checkbox = document.querySelector(`#item-${itemId} .checklist-checkbox`);
            const itemEl = document.getElementById(`item-${itemId}`);

            if (item.checked) {
                checkbox.classList.add('checked');
                itemEl.classList.add('checked');
            } else {
                checkbox.classList.remove('checked');
                itemEl.classList.remove('checked');
            }

            updateProgress();
            updateProgressBreakdown();
        }

        function updateProgress() {
            const skipped = checklistItems.filter(i => i.skipped).length;
            const total = checklistItems.length - skipped;
            const completed = checklistItems.filter(i => i.checked).length;
            const percent = total > 0 ? Math.round((completed / total) * 100) : 0;

            document.getElementById('progressPercent').textContent = percent + '%';
            document.getElementById('progressFill').style.width = percent + '%';

            // Update sticky progress bar
            document.getElementById('stickyProgressPercent').textContent = percent + '%';
            document.getElementById('stickyProgressFill').style.width = percent + '%';

            // Calculate critical and required counts for sticky bar
            const criticalItems = checklistItems.filter(i => i.priority === 'critical');
            const criticalDone = criticalItems.filter(i => i.checked).length;
            const requiredItems = checklistItems.filter(i => i.priority === 'required');
            const requiredDone = requiredItems.filter(i => i.checked).length;
            document.getElementById('stickyCritical').textContent = `${criticalDone}/${criticalItems.length}`;
            document.getElementById('stickyRequired').textContent = `${requiredDone}/${requiredItems.length}`;

            // Update status badge
            const badge = document.getElementById('statusBadge');
            const stickyBadge = document.getElementById('stickyStatusBadge');
            if (percent === 0) {
                badge.className = 'status-badge status-draft';
                badge.textContent = 'Draft';
                stickyBadge.className = 'status-badge status-draft';
                stickyBadge.textContent = 'Draft';
            } else if (percent < 100) {
                badge.className = 'status-badge status-in-progress';
                badge.textContent = 'In Progress';
                stickyBadge.className = 'status-badge status-in-progress';
                stickyBadge.textContent = 'In Progress';
            } else {
                badge.className = 'status-badge status-ready';
                badge.textContent = 'Ready to Launch';
                stickyBadge.className = 'status-badge status-ready';
                stickyBadge.textContent = 'Ready';
            }

            // Update section badges
            const config = launchConfigs[selectedLaunchType];
            config.checklist.forEach(section => {
                const sectionItems = checklistItems.filter(i => i.section === section.section);
                const sectionComplete = sectionItems.filter(i => i.checked).length;
                const sectionSkipped = sectionItems.filter(i => i.skipped).length;
                const badge = document.querySelector(`[data-section="${section.section}"]`);
                if (badge) {
                    const activeCount = sectionItems.length - sectionSkipped;
                    badge.textContent = `${sectionComplete}/${activeCount}`;
                    if (sectionComplete === activeCount && activeCount > 0) {
                        badge.classList.add('complete');
                    } else {
                        badge.classList.remove('complete');
                    }
                }
            });
        }

        function sendReminders() {
            alert('Slack reminders sent to owners of incomplete items!');
        }

        function exportChecklist() {
            alert('Checklist exported to Linear as linked issues!');
        }

        function scheduleSlack() {
            alert('Slack announcement scheduled for launch day!');
        }

        function openLinear() {
            alert('Opening Linear project MIS-2024-Q1...\n\nThis would open: https://linear.app/mistral/project/mis-2024-q1');
        }

        function syncToLinear() {
            alert('Syncing checklist to Linear...\n\n‚úÖ Created 12 issues in project MIS-2024-Q1\n‚úÖ Assigned owners based on checklist\n‚úÖ Set due dates from launch timeline\n‚úÖ Linked to parent milestone "Mistral Large 3 GA"');
        }

        function notifyRequesters() {
            const confirmed = confirm('Send launch notification to 4 users who requested this feature?\n\n‚Ä¢ TechCorp (Enterprise, $125K ARR)\n‚Ä¢ DataFlow Inc (Growth, $45K ARR)\n‚Ä¢ GitHub Issue #258 (42 upvotes)\n‚Ä¢ GlobalFinance (Enterprise, $500K ARR - Churn Risk)\n\nTotal ARR impacted: $670K');

            if (confirmed) {
                alert('Notifications sent!\n\nüìß Email sent to enterprise contacts\nüí¨ Slack DM to CS owners for high-touch accounts\nüêô GitHub comment posted on Issue #258\nüìä Feedback items marked as "Shipped" in dashboard');
            }
        }

        function markLaunched() {
            const badge = document.getElementById('statusBadge');
            badge.className = 'status-badge status-launched';
            badge.textContent = 'üöÄ Launched!';

            // Show comprehensive launch completion
            const actions = [
                '‚úÖ Status updated to "Launched"',
                '‚úÖ Linear project marked complete',
                '‚úÖ Launch calendar updated',
                '‚úÖ Slack #announcements notified',
                '‚úÖ 4 requesting users notified',
                '‚úÖ Feedback items marked "Shipped"',
                '‚úÖ Metrics tracking started'
            ];

            alert('üéâ Congratulations! Launch complete!\n\n' + actions.join('\n'));
        }

        function exportChecklist() {
            alert('Exporting to Linear...\n\n‚úÖ Created milestone "Mistral Large 3 Launch"\n‚úÖ 14 sections ‚Üí 14 sub-projects\n‚úÖ 127 checklist items ‚Üí 127 issues\n‚úÖ Owners mapped to Linear users\n‚úÖ Due dates set relative to Feb 15 target\n\nView in Linear ‚Üí');
        }

        // Step 2 Integration Functions
        function importFromNotion() {
            const prdLink = document.getElementById('prdLink').value;
            if (!prdLink) {
                alert('Please paste a Notion link first');
                return;
            }
            alert('Importing from Notion...\n\n‚úÖ PRD title extracted: "Mistral Large 3 - Enhanced Reasoning"\n‚úÖ Description populated from document\n‚úÖ 8 linked requirements found\n‚úÖ 3 design specs linked\n\nDocument synced!');

            // Populate fields
            document.getElementById('launchName').value = 'Mistral Large 3 - Enhanced Reasoning';
            document.getElementById('launchDesc').value = 'Major model update with significantly improved reasoning capabilities, longer context window, and enhanced code generation. This release targets enterprise customers and developer tools integrations.';
        }

        function loadLinearProject() {
            const projectId = document.getElementById('linearProject').value;
            const preview = document.getElementById('linearProjectPreview');

            if (projectId && projectId !== 'new') {
                preview.style.display = 'block';
                document.getElementById('linearProjectId').textContent = projectId;
            } else if (projectId === 'new') {
                preview.style.display = 'none';
                const name = prompt('Enter new Linear project name:', 'Launch: ' + (document.getElementById('launchName').value || 'New Feature'));
                if (name) {
                    alert('‚úÖ Linear project created: ' + name + '\n\nProject ID: MIS-2024-NEW');
                }
            } else {
                preview.style.display = 'none';
            }
        }

        function syncFromLinear() {
            const projectId = document.getElementById('linearProject').value;
            if (!projectId) {
                alert('Please select a Linear project first');
                return;
            }
            alert('Syncing from Linear...\n\n‚úÖ 12 issues imported\n‚úÖ 8 marked as complete\n‚úÖ 4 in progress\n‚úÖ Owners matched to directory\n‚úÖ Due dates synced\n\nChecklist items will be pre-populated!');
        }

        function loadDRIProfile() {
            const driId = document.getElementById('launchDRI').value;
            const preview = document.getElementById('driPreview');

            const profiles = {
                'sophia': { name: 'Sophia Chen', role: 'VP Product ¬∑ @sophia.chen', avatar: 'SC' },
                'david': { name: 'David Kim', role: 'Engineering Lead ¬∑ @david.kim', avatar: 'DK' },
                'guillaume': { name: 'Guillaume Lample', role: 'Chief Scientist ¬∑ @guillaume.lample', avatar: 'GL' },
                'emma': { name: 'Emma Wilson', role: 'Head of Marketing ¬∑ @emma.wilson', avatar: 'EW' },
                'marcus': { name: 'Marcus Rodriguez', role: 'Head of Sales ¬∑ @marcus.rodriguez', avatar: 'MR' }
            };

            if (driId && profiles[driId]) {
                const p = profiles[driId];
                document.getElementById('driName').textContent = p.name;
                document.getElementById('driRole').textContent = p.role;
                document.getElementById('driAvatar').textContent = p.avatar;
                preview.style.display = 'block';
            } else {
                preview.style.display = 'none';
            }
        }

        function openSlackDM() {
            const driId = document.getElementById('launchDRI').value;
            alert('Opening Slack DM with @' + driId + '...\n\n(This would open Slack)');
        }

        function viewProfile() {
            const driId = document.getElementById('launchDRI').value;
            alert('Opening company directory profile for ' + driId + '...\n\n(This would open the internal directory)');
        }

        function updateChecklist() {
            // Called when impact level changes - could adjust checklist based on impact
            const impactLevel = document.getElementById('impactLevel').value;
            console.log('Impact level changed to:', impactLevel);
        }

        function shareChecklist() {
            const launchName = document.getElementById('launchName').value || 'Launch Checklist';
            const url = window.location.href + '?launch=' + encodeURIComponent(launchName);

            // Copy to clipboard
            navigator.clipboard.writeText(url).then(() => {
                alert('Link copied to clipboard!\n\n' + url + '\n\nShare this link with your team to view the checklist status.');
            }).catch(() => {
                prompt('Copy this link to share:', url);
            });
        }

        // AI Content Review System
        function reviewContent(type) {
            const contentTypes = {
                'email': {
                    name: 'Customer Email',
                    placeholder: 'Paste your email content here...',
                    guidelines: [
                        'Professional but approachable tone',
                        'Clear value proposition in first paragraph',
                        'Action-oriented CTA',
                        'No jargon or unexplained acronyms'
                    ]
                },
                'blog': {
                    name: 'Blog Post',
                    placeholder: 'Paste your blog post here...',
                    guidelines: [
                        'Technical accuracy verified',
                        'Benchmark claims supported with data',
                        'Links to documentation included',
                        'No competitor disparagement'
                    ]
                },
                'social': {
                    name: 'Social Posts',
                    placeholder: 'Paste your social media posts here...',
                    guidelines: [
                        'Platform-appropriate length',
                        'Hashtags relevant and professional',
                        'No unverified claims',
                        'Matches brand voice'
                    ]
                },
                'changelog': {
                    name: 'Changelog Entry',
                    placeholder: 'Paste your changelog entry here...',
                    guidelines: [
                        'Concise and scannable',
                        'Version numbers correct',
                        'Breaking changes clearly marked',
                        'Migration guides linked'
                    ]
                }
            };

            const config = contentTypes[type];
            const content = prompt(`‚ú® AI Content Review - ${config.name}\n\nPaste your content below for AI review:\n\n(The AI will check for brand voice, typos, tone, legal compliance, and accuracy)\n\nGuidelines for ${config.name}:\n${config.guidelines.map(g => '‚Ä¢ ' + g).join('\n')}\n\n`, config.placeholder);

            if (!content || content === config.placeholder) return;

            // Simulate AI review
            setTimeout(() => {
                const review = generateAIReview(type, content);
                showReviewResults(config.name, review);
            }, 500);
        }

        function generateAIReview(type, content) {
            // Simulate AI analysis
            const issues = [];
            const suggestions = [];

            // Check for common issues
            if (content.length < 50) {
                issues.push({ severity: 'warning', text: 'Content seems too short - consider adding more detail' });
            }

            // Check for typos (simulated)
            const typoPatterns = ['teh', 'recieve', 'seperate', 'occured', 'definately'];
            typoPatterns.forEach(typo => {
                if (content.toLowerCase().includes(typo)) {
                    issues.push({ severity: 'error', text: `Possible typo detected: "${typo}"` });
                }
            });

            // Check for banned words
            const bannedWords = ['game-changer', 'revolutionary', 'best-in-class', 'synergy'];
            bannedWords.forEach(word => {
                if (content.toLowerCase().includes(word)) {
                    issues.push({ severity: 'warning', text: `Avoid marketing jargon: "${word}"` });
                }
            });

            // Check for competitor mentions
            const competitors = ['openai', 'anthropic', 'cohere', 'google', 'meta llama'];
            competitors.forEach(comp => {
                if (content.toLowerCase().includes(comp)) {
                    issues.push({ severity: 'warning', text: `Competitor mention detected: "${comp}" - ensure comparison is factual and professional` });
                }
            });

            // Check tone (simulated)
            if (content.includes('!!!') || content.includes('???')) {
                issues.push({ severity: 'warning', text: 'Multiple punctuation marks may seem unprofessional' });
            }

            // Add suggestions
            if (!content.toLowerCase().includes('mistral')) {
                suggestions.push('Consider mentioning Mistral AI for brand consistency');
            }
            if (type === 'email' && !content.toLowerCase().includes('unsubscribe')) {
                suggestions.push('Ensure email includes unsubscribe link for compliance');
            }
            if (type === 'blog' && !content.includes('```') && content.length > 500) {
                suggestions.push('Consider adding code examples for technical content');
            }

            // Overall score
            const errorCount = issues.filter(i => i.severity === 'error').length;
            const warningCount = issues.filter(i => i.severity === 'warning').length;
            let score = 100 - (errorCount * 20) - (warningCount * 5);
            score = Math.max(0, Math.min(100, score));

            return {
                score: score,
                status: score >= 80 ? 'approved' : score >= 60 ? 'needs_review' : 'blocked',
                issues: issues,
                suggestions: suggestions,
                brandVoice: score >= 70 ? 'consistent' : 'inconsistent',
                readability: 'Good',
                legalFlags: issues.some(i => i.text.includes('competitor')) ? 'Review recommended' : 'Clear'
            };
        }

        function showReviewResults(contentType, review) {
            const statusEmoji = review.status === 'approved' ? '‚úÖ' : review.status === 'needs_review' ? '‚ö†Ô∏è' : 'üö´';
            const statusText = review.status === 'approved' ? 'APPROVED' : review.status === 'needs_review' ? 'NEEDS REVIEW' : 'BLOCKED';

            let message = `${statusEmoji} AI REVIEW RESULTS - ${contentType}\n\n`;
            message += `‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ\n`;
            message += `Quality Score: ${review.score}/100\n`;
            message += `Status: ${statusText}\n`;
            message += `Brand Voice: ${review.brandVoice}\n`;
            message += `Legal Flags: ${review.legalFlags}\n`;
            message += `‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ\n\n`;

            if (review.issues.length > 0) {
                message += `ISSUES FOUND (${review.issues.length}):\n`;
                review.issues.forEach(issue => {
                    const icon = issue.severity === 'error' ? '‚ùå' : '‚ö†Ô∏è';
                    message += `${icon} ${issue.text}\n`;
                });
                message += '\n';
            }

            if (review.suggestions.length > 0) {
                message += `SUGGESTIONS:\n`;
                review.suggestions.forEach(s => {
                    message += `üí° ${s}\n`;
                });
                message += '\n';
            }

            if (review.status === 'approved') {
                message += `\n‚úÖ Content approved! You can proceed with publication.\n`;
                message += `No human review required.`;
            } else if (review.status === 'needs_review') {
                message += `\n‚ö†Ô∏è Please address the warnings above or get approval from:\n`;
                message += `‚Ä¢ Emma Wilson (Head of Marketing)\n`;
                message += `‚Ä¢ Anna Bergstr√∂m (Legal)`;
            } else {
                message += `\nüö´ Content blocked. Please fix the errors above before publishing.\n`;
                message += `Contact Emma Wilson for assistance.`;
            }

            alert(message);
        }

        // Sales Subscription Management
        let salesSubscribers = [
            { name: 'Marcus Rodriguez', accounts: ['TechCorp', 'GlobalFinance'], email: 'marcus@mistral.ai' },
            { name: 'Sarah Johnson', accounts: ['DataFlow Inc'], email: 'sarah@mistral.ai' }
        ];

        function showSalesSubscription() {
            let subscriberList = salesSubscribers.map(s =>
                `‚Ä¢ ${s.name}: ${s.accounts.join(', ')}`
            ).join('\n');

            const action = confirm(
                'üì£ Sales Launch Subscriptions\n\n' +
                'Current subscribers:\n' + subscriberList + '\n\n' +
                'Subscribed accounts will receive:\n' +
                '‚Ä¢ Email notification on launch\n' +
                '‚Ä¢ Slack DM to account owner\n' +
                '‚Ä¢ Custom launch briefing doc\n\n' +
                'Click OK to add more subscribers'
            );

            if (action) {
                addSalesSubscriber();
            }
        }

        function addSalesSubscriber() {
            const salesRep = prompt('Enter sales rep name:');
            if (!salesRep) return;

            const accounts = prompt('Enter account names (comma separated):');
            if (!accounts) return;

            salesSubscribers.push({
                name: salesRep,
                accounts: accounts.split(',').map(a => a.trim()),
                email: salesRep.toLowerCase().replace(' ', '.') + '@mistral.ai'
            });

            alert('‚úÖ Subscription added!\n\n' + salesRep + ' will be notified when this launch goes live.\n\nAccounts: ' + accounts);
        }

        // ========================================
        // SAVED CHECKLISTS MANAGEMENT
        // ========================================

        // Sample saved checklists data (in real app, this comes from localStorage + backend)
        let savedChecklists = [
            {
                id: 'cpu-inference-checklist',
                name: 'CPU Inference Optimization',
                type: 'major-feature',
                icon: 'üöÄ',
                launchDate: '2026-01-10',
                createdAt: '2025-12-15',
                progress: 100,
                totalItems: 42,
                completedItems: 42,
                status: 'launched',
                linearProject: 'MIS-2024-CPU',
                calendarLaunchId: 'cpu-inference',
                teams: ['engineering', 'product', 'docs'],
                dri: 'Sarah Chen'
            },
            {
                id: 'windows-arm-checklist',
                name: 'Windows ARM Native Support',
                type: 'major-feature',
                icon: 'üöÄ',
                launchDate: '2026-01-24',
                createdAt: '2025-12-20',
                progress: 65,
                totalItems: 38,
                completedItems: 25,
                status: 'in-progress',
                linearProject: 'MIS-2024-WIN',
                calendarLaunchId: 'windows',
                teams: ['engineering', 'product', 'docs', 'marketing'],
                dri: 'David Kim'
            },
            {
                id: 'mistral-large-3-checklist',
                name: 'Mistral Large 3 Release',
                type: 'model-release',
                icon: 'üß†',
                launchDate: '2026-02-15',
                createdAt: '2026-01-02',
                progress: 45,
                totalItems: 64,
                completedItems: 29,
                status: 'in-progress',
                linearProject: 'MIS-2024-ML3',
                calendarLaunchId: 'large3',
                teams: ['ml-research', 'engineering', 'product', 'marketing', 'sales', 'legal'],
                dri: 'Guillaume Lample'
            },
            {
                id: 'magistral-checklist',
                name: 'Magistral - Reasoning Model',
                type: 'model-release',
                icon: 'üß†',
                launchDate: '2026-03-01',
                createdAt: '2026-01-05',
                progress: 28,
                totalItems: 72,
                completedItems: 20,
                status: 'in-progress',
                linearProject: 'MIS-2024-MAG',
                calendarLaunchId: 'magistral',
                teams: ['ml-research', 'engineering', 'product', 'marketing', 'legal'],
                dri: 'Guillaume Lample'
            },
            {
                id: 'enterprise-sso-checklist',
                name: 'Enterprise SSO Integration',
                type: 'major-feature',
                icon: 'üöÄ',
                launchDate: '2026-04-05',
                createdAt: '2026-01-08',
                progress: 15,
                totalItems: 45,
                completedItems: 7,
                status: 'in-progress',
                linearProject: 'MIS-2024-SSO',
                calendarLaunchId: 'sso',
                teams: ['engineering', 'security', 'product', 'sales'],
                dri: 'David Kim'
            }
        ];

        let savedChecklistsVisible = true;

        function loadSavedChecklists() {
            // In real app, merge with localStorage
            const stored = localStorage.getItem('mistral-checklists');
            if (stored) {
                try {
                    const parsed = JSON.parse(stored);
                    // Merge stored with default data
                    parsed.forEach(stored => {
                        const existing = savedChecklists.find(c => c.id === stored.id);
                        if (existing) {
                            Object.assign(existing, stored);
                        } else {
                            savedChecklists.push(stored);
                        }
                    });
                } catch (e) {
                    console.error('Error loading saved checklists:', e);
                }
            }
        }

        function saveChecklistsToStorage() {
            localStorage.setItem('mistral-checklists', JSON.stringify(savedChecklists));
        }

        function renderSavedChecklists() {
            const container = document.getElementById('savedChecklistsList');
            const noMessage = document.getElementById('noChecklistsMessage');

            if (savedChecklists.length === 0) {
                container.innerHTML = '';
                noMessage.style.display = 'block';
                return;
            }

            noMessage.style.display = 'none';

            const statusLabels = {
                'draft': { label: 'Draft', class: 'status-draft' },
                'in-progress': { label: 'In Progress', class: 'status-in-progress' },
                'ready': { label: 'Ready', class: 'status-ready' },
                'launched': { label: 'Launched', class: 'status-launched' }
            };

            const typeIcons = {
                'major-feature': 'üöÄ',
                'model-release': 'üß†',
                'api-change': '‚öôÔ∏è',
                'bug-fix': 'üêõ',
                'pricing-change': 'üí∞',
                'partnership': 'ü§ù'
            };

            let html = '<div class="saved-checklists-grid">';

            savedChecklists.forEach(checklist => {
                const status = statusLabels[checklist.status] || statusLabels['draft'];
                const icon = typeIcons[checklist.type] || 'üìã';
                const launchDate = new Date(checklist.launchDate).toLocaleDateString('en-US', { month: 'short', day: 'numeric', year: 'numeric' });
                const createdDate = new Date(checklist.createdAt).toLocaleDateString('en-US', { month: 'short', day: 'numeric' });

                html += `
                    <div class="saved-checklist-card" data-id="${checklist.id}">
                        <div class="saved-checklist-actions">
                            <button class="saved-checklist-action" onclick="editChecklist('${checklist.id}')" title="Edit">‚úèÔ∏è</button>
                            <button class="saved-checklist-action" onclick="duplicateChecklist('${checklist.id}')" title="Duplicate">üìã</button>
                            <button class="saved-checklist-action delete" onclick="deleteChecklist('${checklist.id}')" title="Delete">üóëÔ∏è</button>
                        </div>
                        <div class="saved-checklist-header">
                            <div class="saved-checklist-icon">${icon}</div>
                            <div class="saved-checklist-info">
                                <div class="saved-checklist-name">${checklist.name}</div>
                                <div class="saved-checklist-meta">
                                    <span>üìÖ ${launchDate}</span>
                                    <span>üë§ ${checklist.dri}</span>
                                </div>
                            </div>
                        </div>
                        <div class="saved-checklist-progress">
                            <div class="saved-checklist-progress-bar">
                                <div class="saved-checklist-progress-fill" style="width: ${checklist.progress}%"></div>
                            </div>
                            <div class="saved-checklist-progress-text">
                                <span><span class="status-badge ${status.class}" style="padding: 0.125rem 0.5rem; font-size: 0.625rem;">${status.label}</span></span>
                                <span>${checklist.completedItems}/${checklist.totalItems} items (${checklist.progress}%)</span>
                            </div>
                        </div>
                        <div class="saved-checklist-links">
                            <a href="?id=${checklist.id}" class="saved-checklist-link primary" onclick="openChecklist('${checklist.id}'); return false;">Open Checklist</a>
                            <a href="./interactive-launch-calendar.html?launch=${checklist.calendarLaunchId}" class="saved-checklist-link">üìÖ Calendar</a>
                            <button onclick="openLinearProject('${checklist.linearProject}')" class="saved-checklist-link">
                                <svg width="10" height="10" viewBox="0 0 100 100" fill="currentColor"><path d="M1.22541 61.5228c-.2225-.9485.90748-1.5459 1.59638-.857L39.3342 97.1782c.6889.6889.0915 1.8189-.857 1.5765a49.9392 49.9392 0 01-37.2513-37.2319zM100 50c0-27.614-22.386-50-50-50S0 22.386 0 50c0 15.5456 7.0862 29.432 18.2026 38.6227.2702.2233.6601.1786.8793-.1046l42.8393-55.408c.3258-.4211.9168-.4971 1.3325-.171l29.0494 22.8195c.4156.3262.9844.2524 1.2815-.1662l.1769-.2494C99.0658 48.3466 100 48.5 100 50z"/></svg>
                                ${checklist.linearProject}
                            </button>
                            <button onclick="openSlackChannel('${checklist.teams[0]}')" class="saved-checklist-link">üí¨ Slack</button>
                        </div>
                    </div>
                `;
            });

            html += '</div>';
            container.innerHTML = html;
        }

        // Checklist table filtering
        function filterChecklistTable() {
            const statusFilter = document.getElementById('checklistStatusFilter').value;
            const typeFilter = document.getElementById('checklistTypeFilter').value;
            const rows = document.querySelectorAll('#checklistTableBody tr');
            let visibleCount = 0;

            rows.forEach(row => {
                const status = row.getAttribute('data-status');
                const type = row.getAttribute('data-type');

                const matchesStatus = !statusFilter || status === statusFilter;
                const matchesType = !typeFilter || type === typeFilter;

                if (matchesStatus && matchesType) {
                    row.style.display = '';
                    visibleCount++;
                } else {
                    row.style.display = 'none';
                }
            });

            // Update count
            const countEl = document.querySelector('#allChecklistsPanel .card span');
            // Count display is in the footer
        }

        function scrollToStep1() {
            document.getElementById('step1').scrollIntoView({ behavior: 'smooth' });
        }

        function loadChecklist(checklistId) {
            // In production, this would load the checklist from the database
            // For now, show what would happen
            const checklistData = {
                'mistral-large-3': { name: 'Mistral Large 3', type: 'model-release', date: '2026-02-15' },
                'enterprise-sso': { name: 'Enterprise SSO', type: 'major-feature', date: '2026-04-01' },
                'api-v2': { name: 'API v2.0', type: 'api-change', date: '2026-03-15' },
                'codestral-2501': { name: 'Codestral 25.01', type: 'model-release', date: '2026-01-08' },
                'jan-2026-pricing': { name: 'January 2026 Pricing', type: 'pricing-change', date: '2026-01-02' }
            };

            const data = checklistData[checklistId];
            if (data) {
                // Select the launch type
                selectedLaunchType = data.type;
                document.querySelectorAll('.launch-type').forEach(el => el.classList.remove('selected'));

                // Show step 2 and populate
                document.getElementById('step2').classList.remove('hidden');
                document.getElementById('launchName').value = data.name;
                document.getElementById('launchDate').value = data.date;

                // Generate checklist
                setTimeout(() => {
                    generateChecklist();
                    // Scroll to checklist
                    document.getElementById('step3').scrollIntoView({ behavior: 'smooth' });
                }, 100);
            }
        }

        function openChecklist(checklistId) {
            const checklist = savedChecklists.find(c => c.id === checklistId);
            if (!checklist) {
                alert('Checklist not found');
                return;
            }

            // Store current checklist ID
            currentChecklistId = checklistId;

            // Set launch type
            selectedLaunchType = checklist.type;

            // Set selected teams
            selectedTeams = checklist.teams;

            // Update UI to show selected type
            document.querySelectorAll('.launch-type').forEach(el => {
                el.classList.remove('selected');
            });

            // Populate form fields
            setTimeout(() => {
                document.getElementById('launchName').value = checklist.name;
                document.getElementById('launchDate').value = checklist.launchDate;

                // Trigger checklist generation
                generateChecklist();

                // Restore saved progress
                if (checklist.itemStates) {
                    checklist.itemStates.forEach(saved => {
                        const item = checklistItems.find(i => i.id === saved.id);
                        if (item) {
                            item.checked = saved.checked;
                            item.skipped = saved.skipped;

                            // Update UI
                            const itemEl = document.getElementById('item-' + item.id);
                            const checkbox = itemEl?.querySelector('.checklist-checkbox');

                            if (item.checked && checkbox) {
                                checkbox.classList.add('checked');
                                itemEl.classList.add('checked');
                            }
                            if (item.skipped && itemEl) {
                                itemEl.classList.add('skipped');
                                const skipBtn = document.getElementById('skip-btn-' + item.id);
                                const skippedBadge = document.getElementById('skipped-badge-' + item.id);
                                if (skipBtn) skipBtn.textContent = 'Undo';
                                if (skippedBadge) skippedBadge.style.display = 'inline-flex';
                            }
                        }
                    });
                    updateProgress();
                    updateProgressBreakdown();
                }
            }, 100);
        }

        function editChecklist(checklistId) {
            const checklist = savedChecklists.find(c => c.id === checklistId);
            if (!checklist) return;

            const newName = prompt('Edit checklist name:', checklist.name);
            if (newName && newName !== checklist.name) {
                checklist.name = newName;
                saveChecklistsToStorage();
                renderSavedChecklists();
                alert('Checklist renamed to: ' + newName);
            }
        }

        function duplicateChecklist(checklistId) {
            const checklist = savedChecklists.find(c => c.id === checklistId);
            if (!checklist) return;

            const newChecklist = {
                ...checklist,
                id: 'checklist-' + Date.now(),
                name: checklist.name + ' (Copy)',
                createdAt: new Date().toISOString().split('T')[0],
                status: 'draft',
                progress: 0,
                completedItems: 0,
                itemStates: []
            };

            savedChecklists.unshift(newChecklist);
            saveChecklistsToStorage();
            renderSavedChecklists();
            alert('Checklist duplicated: ' + newChecklist.name);
        }

        function deleteChecklist(checklistId) {
            const checklist = savedChecklists.find(c => c.id === checklistId);
            if (!checklist) return;

            const confirmed = confirm(`Delete checklist "${checklist.name}"?\n\nThis will also:\n‚Ä¢ Remove Linear project link\n‚Ä¢ Remove Calendar connection\n\nThis action cannot be undone.`);

            if (confirmed) {
                savedChecklists = savedChecklists.filter(c => c.id !== checklistId);
                saveChecklistsToStorage();
                renderSavedChecklists();
                alert('Checklist deleted');
            }
        }

        function openLinearProject(projectId) {
            alert(`Opening Linear project ${projectId}...\n\nThis would open: https://linear.app/mistral/project/${projectId.toLowerCase()}`);
        }

        function openSlackChannel(team) {
            const channels = {
                'engineering': '#eng-general',
                'product': '#product',
                'ml-research': '#ml-research',
                'marketing': '#marketing',
                'sales': '#sales',
                'customer-success': '#customer-success',
                'docs': '#docs',
                'legal': '#legal',
                'security': '#security'
            };
            const channel = channels[team] || '#' + team;
            alert(`Opening Slack channel ${channel}...\n\nThis would open Slack to: ${channel}`);
        }

        // Current checklist being edited
        let currentChecklistId = null;

        // Save current checklist progress
        function saveCurrentChecklist() {
            if (!currentChecklistId) {
                // Create new checklist entry
                const launchName = document.getElementById('launchName').value;
                const launchDate = document.getElementById('launchDate').value;

                if (!launchName) return;

                currentChecklistId = 'checklist-' + Date.now();

                const newChecklist = {
                    id: currentChecklistId,
                    name: launchName,
                    type: selectedLaunchType,
                    icon: launchConfigs[selectedLaunchType]?.name?.includes('Model') ? 'üß†' : 'üöÄ',
                    launchDate: launchDate,
                    createdAt: new Date().toISOString().split('T')[0],
                    progress: 0,
                    totalItems: checklistItems.length,
                    completedItems: 0,
                    status: 'draft',
                    linearProject: 'MIS-' + Date.now().toString().slice(-6),
                    calendarLaunchId: launchName.toLowerCase().replace(/[^a-z0-9]+/g, '-'),
                    teams: selectedTeams,
                    dri: document.getElementById('launchDRI')?.value || 'Unassigned',
                    itemStates: []
                };

                savedChecklists.unshift(newChecklist);
            }

            // Update existing checklist
            const checklist = savedChecklists.find(c => c.id === currentChecklistId);
            if (checklist) {
                const skipped = checklistItems.filter(i => i.skipped).length;
                const total = checklistItems.length - skipped;
                const completed = checklistItems.filter(i => i.checked).length;
                const percent = total > 0 ? Math.round((completed / total) * 100) : 0;

                checklist.progress = percent;
                checklist.completedItems = completed;
                checklist.totalItems = checklistItems.length;
                checklist.status = percent === 100 ? 'ready' : percent > 0 ? 'in-progress' : 'draft';
                checklist.itemStates = checklistItems.map(i => ({
                    id: i.id,
                    checked: i.checked,
                    skipped: i.skipped
                }));

                saveChecklistsToStorage();
            }
        }

        // Auto-save every 30 seconds when checklist is active
        setInterval(() => {
            if (currentChecklistId && checklistItems.length > 0) {
                saveCurrentChecklist();
            }
        }, 30000);

        // Initialize - check for URL params and load saved checklists
        document.addEventListener('DOMContentLoaded', function() {
            loadSavedChecklists();
            renderSavedChecklists();

            const urlParams = new URLSearchParams(window.location.search);
            const checklistId = urlParams.get('id');
            const launchParam = urlParams.get('launch');
            const projectParam = urlParams.get('project');

            if (checklistId) {
                // Open saved checklist
                openChecklist(checklistId);
            } else if (launchParam) {
                // Auto-load by launch name
                const found = savedChecklists.find(c =>
                    c.name.toLowerCase().includes(launchParam.toLowerCase()) ||
                    c.calendarLaunchId === launchParam
                );
                if (found) {
                    openChecklist(found.id);
                } else {
                    // Create new with pre-filled name
                    setTimeout(() => {
                        document.getElementById('launchName').value = decodeURIComponent(launchParam);
                        if (projectParam) {
                            document.getElementById('linearProject').value = projectParam;
                        }
                    }, 100);
                }
            }
        });
    </script>
</body>
</html>
